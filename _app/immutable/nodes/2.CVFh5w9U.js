import{c as hs,l as ta,m as ei,a as ot,f as $t,j as Ds,d as In,o as zt}from"../chunks/DnXqYcBb.js";import{o as xn}from"../chunks/CuU65uWs.js";import{aO as ui,aV as ea,a$ as na,b0 as ia,J as Is,h as Kt,K as mn,Z as dn,a7 as Ne,a as On,o as i,ai as sa,M as ra,$ as ms,ab as zn,e as ke,L as Os,ag as aa,Y as ps,c as oa,b as ni,b1 as la,s as ca,b2 as zs,ax as fa,ae as hi,b3 as da,F as gs,b4 as ua,b5 as ha,aJ as ii,b6 as te,r as Gs,p as Hs,b7 as Gn,H as ma,b8 as pa,b9 as ga,ad as ba,d as va,a9 as Fs,y as dt,I as ya,ba as wa,ah as _a,aa as xa,aL as Z,E as Us,ar as E,bb as ka,aZ as qs,bc as Ma,w as mi,bd as Hn,be as $a,A as O,B as I,z as pi,q as qt,i as bs,aq as Wt,aK as Gt,x as je,C as F,_ as Be,aM as Zt,bf as Ea}from"../chunks/T7OFJb9m.js";import{s as Ie}from"../chunks/CKp7hO5A.js";import{l as vs,p as yt,b as pe,s as Pa,a as Ca,i as Qt}from"../chunks/CssG-Y0G.js";import{B as Aa}from"../chunks/Bw6fvFfj.js";import{a as Ra,b as vt,c as Mt,s as $}from"../chunks/8LV6KKnf.js";import{w as Sa,d as Ta,r as Vs}from"../chunks/oRt-l2xK.js";import{i as Ya}from"../chunks/C5NEzw3l.js";const ys=!0,Xa=[];function ws(e,t=!1,n=!1){return un(e,new Map,"",Xa,null,n)}function un(e,t,n,s,r=null,a=!1){if(typeof e=="object"&&e!==null){var o=t.get(e);if(o!==void 0)return o;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(ui(e)){var c=Array(e.length);t.set(e,c),r!==null&&t.set(r,c);for(var l=0;l<e.length;l+=1){var u=e[l];l in e&&(c[l]=un(u,t,n,s,null,a))}return c}if(ea(e)===na){c={},t.set(e,c),r!==null&&t.set(r,c);for(var m in e)c[m]=un(e[m],t,n,s,null,a);return c}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!a)return un(e.toJSON(),t,n,s,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}const La=Symbol("NaN");function Ws(e,t,n){Kt&&mn();var s=new Aa(e),r=!ia();Is(()=>{var a=t();a!==a&&(a=La),r&&a!==null&&typeof a=="object"&&(a={}),s.ensure(a,n)})}function At(e,t){return t}function Na(e,t,n){for(var s=[],r=t.length,a,o=t.length,c=0;c<r;c++){let f=t[c];Hs(f,()=>{if(a){if(a.pending.delete(f),a.done.add(f),a.pending.size===0){var d=e.outrogroups;si(hi(a.done)),d.delete(a),d.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var l=s.length===0&&n!==null;if(l){var u=n,m=u.parentNode;ba(m),m.append(u),e.items.clear()}si(t,!l)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function si(e,t=!0){for(var n=0;n<e.length;n++)va(e[n],t)}var _s;function xt(e,t,n,s,r,a=null){var o=e,c=new Map,l=(t&zs)!==0;if(l){var u=e;o=Kt?dn(Ne(u)):u.appendChild(On())}Kt&&mn();var m=null,f=fa(()=>{var k=n();return ui(k)?k:k==null?[]:hi(k)}),d,x=!0;function A(){b.fallback=m,ja(b,d,o,t,s),m!==null&&(d.length===0?(m.f&te)===0?Gs(m):(m.f^=te,De(m,null,o)):Hs(m,()=>{m=null}))}var X=Is(()=>{d=i(f);var k=d.length;let it=!1;if(Kt){var tt=sa(o)===ra;tt!==(k===0)&&(o=ms(),dn(o),zn(!1),it=!0)}for(var B=new Set,et=oa,j=ca(),L=0;L<k;L+=1){Kt&&ke.nodeType===Os&&ke.data===aa&&(o=ke,it=!0,zn(!1));var v=d[L],T=s(v,L),S=x?null:c.get(T);S?(S.v&&ps(S.v,v),S.i&&ps(S.i,L),j&&et.unskip_effect(S.e)):(S=Ba(c,x?o:_s??=On(),v,T,L,r,t,n),x||(S.e.f|=te),c.set(T,S)),B.add(T)}if(k===0&&a&&!m&&(x?m=ni(()=>a(o)):(m=ni(()=>a(_s??=On())),m.f|=te)),k>B.size&&la(),Kt&&k>0&&dn(ms()),!x)if(j){for(const[D,G]of c)B.has(D)||et.skip_effect(G.e);et.oncommit(A),et.ondiscard(()=>{})}else A();it&&zn(!0),i(f)}),b={effect:X,items:c,outrogroups:null,fallback:m};x=!1,Kt&&(o=ke)}function Le(e){for(;e!==null&&(e.f&pa)===0;)e=e.next;return e}function ja(e,t,n,s,r){var a=(s&ga)!==0,o=t.length,c=e.items,l=Le(e.effect.first),u,m=null,f,d=[],x=[],A,X,b,k;if(a)for(k=0;k<o;k+=1)A=t[k],X=r(A,k),b=c.get(X).e,(b.f&te)===0&&(b.nodes?.a?.measure(),(f??=new Set).add(b));for(k=0;k<o;k+=1){if(A=t[k],X=r(A,k),b=c.get(X).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(b),S.done.delete(b);if((b.f&te)!==0)if(b.f^=te,b===l)De(b,null,n);else{var it=m?m.next:l;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),se(e,m,b),se(e,b,it),De(b,it,n),m=b,d=[],x=[],l=Le(m.next);continue}if((b.f&Gn)!==0&&(Gs(b),a&&(b.nodes?.a?.unfix(),(f??=new Set).delete(b))),b!==l){if(u!==void 0&&u.has(b)){if(d.length<x.length){var tt=x[0],B;m=tt.prev;var et=d[0],j=d[d.length-1];for(B=0;B<d.length;B+=1)De(d[B],tt,n);for(B=0;B<x.length;B+=1)u.delete(x[B]);se(e,et.prev,j.next),se(e,m,et),se(e,j,tt),l=tt,m=j,k-=1,d=[],x=[]}else u.delete(b),De(b,l,n),se(e,b.prev,b.next),se(e,b,m===null?e.effect.first:m.next),se(e,m,b),m=b;continue}for(d=[],x=[];l!==null&&l!==b;)(u??=new Set).add(l),x.push(l),l=Le(l.next);if(l===null)continue}(b.f&te)===0&&d.push(b),m=b,l=Le(b.next)}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(si(hi(S.done)),e.outrogroups?.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var L=[];if(u!==void 0)for(b of u)(b.f&Gn)===0&&L.push(b);for(;l!==null;)(l.f&Gn)===0&&l!==e.fallback&&L.push(l),l=Le(l.next);var v=L.length;if(v>0){var T=(s&zs)!==0&&o===0?n:null;if(a){for(k=0;k<v;k+=1)L[k].nodes?.a?.measure();for(k=0;k<v;k+=1)L[k].nodes?.a?.fix()}Na(e,L,T)}}a&&ma(()=>{if(f!==void 0)for(b of f)b.nodes?.a?.apply()})}function Ba(e,t,n,s,r,a,o,c){var l=(o&ua)!==0?(o&ha)===0?ii(n,!1,!1):gs(n):null,u=(o&da)!==0?gs(r):null;return{v:l,i:u,e:ni(()=>(a(t,l??n,u??r,c),()=>{e.delete(s)}))}}function De(e,t,n){if(e.nodes)for(var s=e.nodes.start,r=e.nodes.end,a=t&&(t.f&te)===0?t.nodes.start:n;s!==null;){var o=Fs(s);if(a.before(s),s===r)return;s=o}}function se(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Da(e,t,n=!1,s=!1,r=!1){var a=e,o="";dt(()=>{var c=ya;if(o===(o=t()??"")){Kt&&mn();return}if(c.nodes!==null&&(wa(c.nodes.start,c.nodes.end),c.nodes=null),o!==""){if(Kt){ke.data;for(var l=mn(),u=l;l!==null&&(l.nodeType!==Os||l.data!=="");)u=l,l=Fs(l);if(l===null)throw _a(),xa;hs(ke,u),a=dn(l);return}var m=o+"";n?m=`<svg>${m}</svg>`:s&&(m=`<math>${m}</math>`);var f=ta(m);if((n||s)&&(f=Ne(f)),hs(Ne(f),f.lastChild),n||s)for(;Ne(f);)a.before(Ne(f));else a.before(f)}})}const Ia=()=>performance.now(),Dt={tick:e=>requestAnimationFrame(e),now:()=>Ia(),tasks:new Set};function Zs(){const e=Dt.now();Dt.tasks.forEach(t=>{t.c(e)||(Dt.tasks.delete(t),t.f())}),Dt.tasks.size!==0&&Dt.tick(Zs)}function Ks(e){let t;return Dt.tasks.size===0&&Dt.tick(Zs),{promise:new Promise(n=>{Dt.tasks.add(t={c:e,f:n})}),abort(){Dt.tasks.delete(t)}}}function xs(e,t){var n=e.$$events?.[t.type],s=ui(n)?n.slice():n==null?[]:[n];for(var r of s)r.call(this,t)}const Js="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='uuid-d31d560a-16a3-4d71-89d4-5726718841e3'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%20128%20128'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2030.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.1%20Build%20136)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%232d6343;%20}%20.st0,%20.st1,%20.st2%20{%20stroke:%20%23000;%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%207px;%20}%20.st1%20{%20fill:%20%2344a587;%20}%20.st2%20{%20fill:%20%2397e281;%20}%20.st3%20{%20fill:%20%23fff;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st1'%20d='M124.5,15v17.3c0,6.3-5.1,11.5-11.5,11.5H43.8v28.8c0,6.3-5.1,11.5-11.5,11.5H15c-6.3,0-11.5-5.1-11.5-11.5V15c0-6.3,5.1-11.5,11.5-11.5h98c6.3,0,11.5,5.1,11.5,11.5Z'/%3e%3crect%20class='st2'%20x='43.8'%20y='43.8'%20width='80.7'%20height='40.3'%20rx='11.5'%20ry='11.5'/%3e%3crect%20class='st0'%20x='3.5'%20y='84.2'%20width='121'%20height='40.3'%20rx='11.5'%20ry='11.5'/%3e%3cg%3e%3cpath%20class='st3'%20d='M23.7,114.5c-5.6,0-10.2-4.6-10.2-10.2s4.6-10.2,10.2-10.2,5.7,1.3,7.6,3.4h65.1c.5,0,.9-.4.9-.9v-24.6c0-.5-.4-.9-.9-.9H31.5c-8.2,0-14.9-6.7-14.9-14.9v-24.6c0-8.2,6.7-14.9,14.9-14.9h65.4c1.9-2,4.6-3.2,7.4-3.2,5.6,0,10.2,4.6,10.2,10.2s-4.6,10.2-10.2,10.2-5.5-1.2-7.4-3.2H31.5c-.5,0-.9.4-.9.9v24.6c0,.5.4.9.9.9h64.9c8.2,0,14.9,6.7,14.9,14.9v24.6c0,8.2-6.7,14.9-14.9,14.9H30.9c-1.9,1.9-4.5,3-7.2,3Z'/%3e%3cpath%20d='M104.3,17c3.7,0,6.7,3,6.7,6.7s-3,6.7-6.7,6.7-4.5-1.3-5.7-3.2H31.5c-2.4,0-4.4,2-4.4,4.4v24.6c0,2.4,2,4.4,4.4,4.4h64.9c6.3,0,11.4,5.1,11.4,11.4v24.6c0,6.3-5.1,11.4-11.4,11.4H29.3c-1.2,1.8-3.3,3-5.6,3-3.7,0-6.7-3-6.7-6.7s3-6.7,6.7-6.7,4.7,1.4,5.8,3.4h66.9c2.4,0,4.4-2,4.4-4.4v-24.6c0-2.4-2-4.4-4.4-4.4H31.5c-6.3,0-11.4-5.1-11.4-11.4v-24.6c0-6.3,5.1-11.4,11.4-11.4h67.1c1.2-1.9,3.3-3.2,5.7-3.2M104.3,10c-3.3,0-6.4,1.2-8.8,3.2H31.5c-10.1,0-18.4,8.3-18.4,18.4v24.6c0,10.1,8.3,18.4,18.4,18.4h62.3v19.4h-61.1c-2.5-2.2-5.7-3.4-9-3.4-7.6,0-13.7,6.1-13.7,13.7s6.1,13.7,13.7,13.7,6.2-1.1,8.6-3h64.1c10.1,0,18.4-8.3,18.4-18.4v-24.6c0-10.1-8.3-18.4-18.4-18.4h-62.3v-19.4h61.4c2.4,2,5.5,3.2,8.8,3.2,7.6,0,13.7-6.1,13.7-13.7s-6.1-13.7-13.7-13.7h0Z'/%3e%3c/g%3e%3c/svg%3e",{min:Oa,max:za}=Math,ge=(e,t=0,n=1)=>Oa(za(t,e),n),gi=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=ge(e[t],0,255)):t===3&&(e[t]=ge(e[t],0,1));return e},Qs={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Qs[`[object ${e}]`]=e.toLowerCase();function Q(e){return Qs[Object.prototype.toString.call(e)]||"object"}const q=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):Q(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0].slice(0),Ee=e=>{if(e.length<2)return null;const t=e.length-1;return Q(e[t])=="string"?e[t].toLowerCase():null},{PI:kn,min:tr,max:er}=Math,Xt=e=>Math.round(e*100)/100,ri=e=>Math.round(e*100)/100,Jt=kn*2,Fn=kn/3,Ga=kn/180,Ha=180/kn;function nr(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const U={format:{},autodetect:[]};class M{constructor(...t){const n=this;if(Q(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let s=Ee(t),r=!1;if(!s){r=!0,U.sorted||(U.autodetect=U.autodetect.sort((a,o)=>o.p-a.p),U.sorted=!0);for(let a of U.autodetect)if(s=a.test(...t),s)break}if(U.format[s]){const a=U.format[s].apply(null,r?t:t.slice(0,-1));n._rgb=gi(a)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return Q(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const Fa="3.2.0",nt=(...e)=>new M(...e);nt.version=Fa;const Me={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ua=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,qa=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ir=e=>{if(e.match(Ua)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,s=t>>8&255,r=t&255;return[n,s,r,1]}if(e.match(qa)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,s=t>>16&255,r=t>>8&255,a=Math.round((t&255)/255*100)/100;return[n,s,r,a]}throw new Error(`unknown hex color: ${e}`)},{round:sn}=Math,sr=(...e)=>{let[t,n,s,r]=q(e,"rgba"),a=Ee(e)||"auto";r===void 0&&(r=1),a==="auto"&&(a=r<1?"rgba":"rgb"),t=sn(t),n=sn(n),s=sn(s);let c="000000"+(t<<16|n<<8|s).toString(16);c=c.substr(c.length-6);let l="0"+sn(r*255).toString(16);switch(l=l.substr(l.length-2),a.toLowerCase()){case"rgba":return`#${c}${l}`;case"argb":return`#${l}${c}`;default:return`#${c}`}};M.prototype.name=function(){const e=sr(this._rgb,"rgb");for(let t of Object.keys(Me))if(Me[t]===e)return t.toLowerCase();return e};U.format.named=e=>{if(e=e.toLowerCase(),Me[e])return ir(Me[e]);throw new Error("unknown color name: "+e)};U.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Q(e)==="string"&&Me[e.toLowerCase()])return"named"}});M.prototype.alpha=function(e,t=!1){return e!==void 0&&Q(e)==="number"?t?(this._rgb[3]=e,this):new M([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};M.prototype.clipped=function(){return this._rgb._clipped||!1};const Ht={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Va=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function ee(e){const t=Va.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Ht.labWhitePoint=e,Ht.Xn=t[0],Ht.Zn=t[1]}function Oe(){return Ht.labWhitePoint}const bi=(...e)=>{e=q(e,"lab");const[t,n,s]=e,[r,a,o]=Wa(t,n,s),[c,l,u]=rr(r,a,o);return[c,l,u,e.length>3?e[3]:1]},Wa=(e,t,n)=>{const{kE:s,kK:r,kKE:a,Xn:o,Yn:c,Zn:l}=Ht,u=(e+16)/116,m=.002*t+u,f=u-.005*n,d=m*m*m,x=f*f*f,A=d>s?d:(116*m-16)/r,X=e>a?Math.pow((e+16)/116,3):e/r,b=x>s?x:(116*f-16)/r,k=A*o,it=X*c,tt=b*l;return[k,it,tt]},Un=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},rr=(e,t,n)=>{const{MtxAdaptMa:s,MtxAdaptMaI:r,MtxXYZ2RGB:a,RefWhiteRGB:o,Xn:c,Yn:l,Zn:u}=Ht,m=c*s.m00+l*s.m10+u*s.m20,f=c*s.m01+l*s.m11+u*s.m21,d=c*s.m02+l*s.m12+u*s.m22,x=o.X*s.m00+o.Y*s.m10+o.Z*s.m20,A=o.X*s.m01+o.Y*s.m11+o.Z*s.m21,X=o.X*s.m02+o.Y*s.m12+o.Z*s.m22,b=(e*s.m00+t*s.m10+n*s.m20)*(x/m),k=(e*s.m01+t*s.m11+n*s.m21)*(A/f),it=(e*s.m02+t*s.m12+n*s.m22)*(X/d),tt=b*r.m00+k*r.m10+it*r.m20,B=b*r.m01+k*r.m11+it*r.m21,et=b*r.m02+k*r.m12+it*r.m22,j=Un(tt*a.m00+B*a.m10+et*a.m20),L=Un(tt*a.m01+B*a.m11+et*a.m21),v=Un(tt*a.m02+B*a.m12+et*a.m22);return[j*255,L*255,v*255]},vi=(...e)=>{const[t,n,s,...r]=q(e,"rgb"),[a,o,c]=ar(t,n,s),[l,u,m]=Za(a,o,c);return[l,u,m,...r.length>0&&r[0]<1?[r[0]]:[]]};function Za(e,t,n){const{Xn:s,Yn:r,Zn:a,kE:o,kK:c}=Ht,l=e/s,u=t/r,m=n/a,f=l>o?Math.pow(l,1/3):(c*l+16)/116,d=u>o?Math.pow(u,1/3):(c*u+16)/116,x=m>o?Math.pow(m,1/3):(c*m+16)/116;return[116*d-16,500*(f-d),200*(d-x)]}function qn(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const ar=(e,t,n)=>{e=qn(e/255),t=qn(t/255),n=qn(n/255);const{MtxRGB2XYZ:s,MtxAdaptMa:r,MtxAdaptMaI:a,Xn:o,Yn:c,Zn:l,As:u,Bs:m,Cs:f}=Ht;let d=e*s.m00+t*s.m10+n*s.m20,x=e*s.m01+t*s.m11+n*s.m21,A=e*s.m02+t*s.m12+n*s.m22;const X=o*r.m00+c*r.m10+l*r.m20,b=o*r.m01+c*r.m11+l*r.m21,k=o*r.m02+c*r.m12+l*r.m22;let it=d*r.m00+x*r.m10+A*r.m20,tt=d*r.m01+x*r.m11+A*r.m21,B=d*r.m02+x*r.m12+A*r.m22;return it*=X/u,tt*=b/m,B*=k/f,d=it*a.m00+tt*a.m10+B*a.m20,x=it*a.m01+tt*a.m11+B*a.m21,A=it*a.m02+tt*a.m12+B*a.m22,[d,x,A]};M.prototype.lab=function(){return vi(this._rgb)};const Ka=(...e)=>new M(...e,"lab");Object.assign(nt,{lab:Ka,getLabWhitePoint:Oe,setLabWhitePoint:ee});U.format.lab=bi;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"lab"),Q(e)==="array"&&e.length===3)return"lab"}});M.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=Ht.Kn*e,new M(n,"lab").alpha(t.alpha(),!0)};M.prototype.brighten=function(e=1){return this.darken(-e)};M.prototype.darker=M.prototype.darken;M.prototype.brighter=M.prototype.brighten;M.prototype.get=function(e){const[t,n]=e.split("."),s=this[t]();if(n){const r=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(r>-1)return s[r];throw new Error(`unknown channel ${n} in mode ${t}`)}else return s};const{pow:Ja}=Math,Qa=1e-7,to=20;M.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&Q(e)==="number"){if(e===0)return new M([0,0,0,this._rgb[3]],"rgb");if(e===1)return new M([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),s=to;const r=(o,c)=>{const l=o.interpolate(c,.5,t),u=l.luminance();return Math.abs(e-u)<Qa||!s--?l:u>e?r(o,l):r(l,c)},a=(n>e?r(new M([0,0,0]),this):r(this,new M([255,255,255]))).rgb();return new M([...a,this._rgb[3]])}return eo(...this._rgb.slice(0,3))};const eo=(e,t,n)=>(e=Vn(e),t=Vn(t),n=Vn(n),.2126*e+.7152*t+.0722*n),Vn=e=>(e/=255,e<=.03928?e/12.92:Ja((e+.055)/1.055,2.4)),wt={},$e=(e,t,n=.5,...s)=>{let r=s[0]||"lrgb";if(!wt[r]&&!s.length&&(r=Object.keys(wt)[0]),!wt[r])throw new Error(`interpolation mode ${r} is not defined`);return Q(e)!=="object"&&(e=new M(e)),Q(t)!=="object"&&(t=new M(t)),wt[r](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};M.prototype.mix=M.prototype.interpolate=function(e,t=.5,...n){return $e(this,e,t,...n)};M.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new M([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};const{sin:no,cos:io}=Math,or=(...e)=>{let[t,n,s]=q(e,"lch");return isNaN(s)&&(s=0),s=s*Ga,[t,io(s)*n,no(s)*n]},yi=(...e)=>{e=q(e,"lch");const[t,n,s]=e,[r,a,o]=or(t,n,s),[c,l,u]=bi(r,a,o);return[c,l,u,e.length>3?e[3]:1]},so=(...e)=>{const t=nr(q(e,"hcl"));return yi(...t)},{sqrt:ro,atan2:ao,round:oo}=Math,lr=(...e)=>{const[t,n,s]=q(e,"lab"),r=ro(n*n+s*s);let a=(ao(s,n)*Ha+360)%360;return oo(r*1e4)===0&&(a=Number.NaN),[t,r,a]},wi=(...e)=>{const[t,n,s,...r]=q(e,"rgb"),[a,o,c]=vi(t,n,s),[l,u,m]=lr(a,o,c);return[l,u,m,...r.length>0&&r[0]<1?[r[0]]:[]]};M.prototype.lch=function(){return wi(this._rgb)};M.prototype.hcl=function(){return nr(wi(this._rgb))};const lo=(...e)=>new M(...e,"lch"),co=(...e)=>new M(...e,"hcl");Object.assign(nt,{lch:lo,hcl:co});U.format.lch=yi;U.format.hcl=so;["lch","hcl"].forEach(e=>U.autodetect.push({p:2,test:(...t)=>{if(t=q(t,e),Q(t)==="array"&&t.length===3)return e}}));M.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=Ht.Kn*e,n[1]<0&&(n[1]=0),new M(n,"lch").alpha(t.alpha(),!0)};M.prototype.desaturate=function(e=1){return this.saturate(-e)};M.prototype.set=function(e,t,n=!1){const[s,r]=e.split("."),a=this[s]();if(r){const o=s.indexOf(r)-(s.substr(0,2)==="ok"?2:0);if(o>-1){if(Q(t)=="string")switch(t.charAt(0)){case"+":a[o]+=+t;break;case"-":a[o]+=+t;break;case"*":a[o]*=+t.substr(1);break;case"/":a[o]/=+t.substr(1);break;default:a[o]=+t}else if(Q(t)==="number")a[o]=t;else throw new Error("unsupported value for Color.set");const c=new M(a,s);return n?(this._rgb=c._rgb,this):c}throw new Error(`unknown channel ${r} in mode ${s}`)}else return a};M.prototype.tint=function(e=.5,...t){return $e(this,"white",e,...t)};M.prototype.shade=function(e=.5,...t){return $e(this,"black",e,...t)};const fo=(e,t,n)=>{const s=e._rgb,r=t._rgb;return new M(s[0]+n*(r[0]-s[0]),s[1]+n*(r[1]-s[1]),s[2]+n*(r[2]-s[2]),"rgb")};wt.rgb=fo;const{sqrt:Wn,pow:we}=Math,uo=(e,t,n)=>{const[s,r,a]=e._rgb,[o,c,l]=t._rgb;return new M(Wn(we(s,2)*(1-n)+we(o,2)*n),Wn(we(r,2)*(1-n)+we(c,2)*n),Wn(we(a,2)*(1-n)+we(l,2)*n),"rgb")};wt.lrgb=uo;const ho=(e,t,n)=>{const s=e.lab(),r=t.lab();return new M(s[0]+n*(r[0]-s[0]),s[1]+n*(r[1]-s[1]),s[2]+n*(r[2]-s[2]),"lab")};wt.lab=ho;const Pe=(e,t,n,s)=>{let r,a;s==="hsl"?(r=e.hsl(),a=t.hsl()):s==="hsv"?(r=e.hsv(),a=t.hsv()):s==="hcg"?(r=e.hcg(),a=t.hcg()):s==="hsi"?(r=e.hsi(),a=t.hsi()):s==="lch"||s==="hcl"?(s="hcl",r=e.hcl(),a=t.hcl()):s==="oklch"&&(r=e.oklch().reverse(),a=t.oklch().reverse());let o,c,l,u,m,f;(s.substr(0,1)==="h"||s==="oklch")&&([o,l,m]=r,[c,u,f]=a);let d,x,A,X;return!isNaN(o)&&!isNaN(c)?(c>o&&c-o>180?X=c-(o+360):c<o&&o-c>180?X=c+360-o:X=c-o,x=o+n*X):isNaN(o)?isNaN(c)?x=Number.NaN:(x=c,(m==1||m==0)&&s!="hsv"&&(d=u)):(x=o,(f==1||f==0)&&s!="hsv"&&(d=l)),d===void 0&&(d=l+n*(u-l)),A=m+n*(f-m),s==="oklch"?new M([A,d,x],s):new M([x,d,A],s)},cr=(e,t,n)=>Pe(e,t,n,"lch");wt.lch=cr;wt.hcl=cr;const mo=e=>{if(Q(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,s=e&255;return[t,n,s,1]}throw new Error("unknown num color: "+e)},po=(...e)=>{const[t,n,s]=q(e,"rgb");return(t<<16)+(n<<8)+s};M.prototype.num=function(){return po(this._rgb)};const go=(...e)=>new M(...e,"num");Object.assign(nt,{num:go});U.format.num=mo;U.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&Q(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const bo=(e,t,n)=>{const s=e.num(),r=t.num();return new M(s+n*(r-s),"num")};wt.num=bo;const{floor:vo}=Math,yo=(...e)=>{e=q(e,"hcg");let[t,n,s]=e,r,a,o;s=s*255;const c=n*255;if(n===0)r=a=o=s;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=vo(t),u=t-l,m=s*(1-n),f=m+c*(1-u),d=m+c*u,x=m+c;switch(l){case 0:[r,a,o]=[x,d,m];break;case 1:[r,a,o]=[f,x,m];break;case 2:[r,a,o]=[m,x,d];break;case 3:[r,a,o]=[m,f,x];break;case 4:[r,a,o]=[d,m,x];break;case 5:[r,a,o]=[x,m,f];break}}return[r,a,o,e.length>3?e[3]:1]},wo=(...e)=>{const[t,n,s]=q(e,"rgb"),r=tr(t,n,s),a=er(t,n,s),o=a-r,c=o*100/255,l=r/(255-o)*100;let u;return o===0?u=Number.NaN:(t===a&&(u=(n-s)/o),n===a&&(u=2+(s-t)/o),s===a&&(u=4+(t-n)/o),u*=60,u<0&&(u+=360)),[u,c,l]};M.prototype.hcg=function(){return wo(this._rgb)};const _o=(...e)=>new M(...e,"hcg");nt.hcg=_o;U.format.hcg=yo;U.autodetect.push({p:1,test:(...e)=>{if(e=q(e,"hcg"),Q(e)==="array"&&e.length===3)return"hcg"}});const xo=(e,t,n)=>Pe(e,t,n,"hcg");wt.hcg=xo;const{cos:_e}=Math,ko=(...e)=>{e=q(e,"hsi");let[t,n,s]=e,r,a,o;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(o=(1-n)/3,r=(1+n*_e(Jt*t)/_e(Fn-Jt*t))/3,a=1-(o+r)):t<2/3?(t-=1/3,r=(1-n)/3,a=(1+n*_e(Jt*t)/_e(Fn-Jt*t))/3,o=1-(r+a)):(t-=2/3,a=(1-n)/3,o=(1+n*_e(Jt*t)/_e(Fn-Jt*t))/3,r=1-(a+o)),r=ge(s*r*3),a=ge(s*a*3),o=ge(s*o*3),[r*255,a*255,o*255,e.length>3?e[3]:1]},{min:Mo,sqrt:$o,acos:Eo}=Math,Po=(...e)=>{let[t,n,s]=q(e,"rgb");t/=255,n/=255,s/=255;let r;const a=Mo(t,n,s),o=(t+n+s)/3,c=o>0?1-a/o:0;return c===0?r=NaN:(r=(t-n+(t-s))/2,r/=$o((t-n)*(t-n)+(t-s)*(n-s)),r=Eo(r),s>n&&(r=Jt-r),r/=Jt),[r*360,c,o]};M.prototype.hsi=function(){return Po(this._rgb)};const Co=(...e)=>new M(...e,"hsi");nt.hsi=Co;U.format.hsi=ko;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"hsi"),Q(e)==="array"&&e.length===3)return"hsi"}});const Ao=(e,t,n)=>Pe(e,t,n,"hsi");wt.hsi=Ao;const ai=(...e)=>{e=q(e,"hsl");const[t,n,s]=e;let r,a,o;if(n===0)r=a=o=s*255;else{const c=[0,0,0],l=[0,0,0],u=s<.5?s*(1+n):s+n-s*n,m=2*s-u,f=t/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(let d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?l[d]=m+(u-m)*6*c[d]:2*c[d]<1?l[d]=u:3*c[d]<2?l[d]=m+(u-m)*(2/3-c[d])*6:l[d]=m;[r,a,o]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[r,a,o,e[3]]:[r,a,o,1]},fr=(...e)=>{e=q(e,"rgba");let[t,n,s]=e;t/=255,n/=255,s/=255;const r=tr(t,n,s),a=er(t,n,s),o=(a+r)/2;let c,l;return a===r?(c=0,l=Number.NaN):c=o<.5?(a-r)/(a+r):(a-r)/(2-a-r),t==a?l=(n-s)/(a-r):n==a?l=2+(s-t)/(a-r):s==a&&(l=4+(t-n)/(a-r)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,c,o,e[3]]:[l,c,o]};M.prototype.hsl=function(){return fr(this._rgb)};const Ro=(...e)=>new M(...e,"hsl");nt.hsl=Ro;U.format.hsl=ai;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"hsl"),Q(e)==="array"&&e.length===3)return"hsl"}});const So=(e,t,n)=>Pe(e,t,n,"hsl");wt.hsl=So;const{floor:To}=Math,Yo=(...e)=>{e=q(e,"hsv");let[t,n,s]=e,r,a,o;if(s*=255,n===0)r=a=o=s;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const c=To(t),l=t-c,u=s*(1-n),m=s*(1-n*l),f=s*(1-n*(1-l));switch(c){case 0:[r,a,o]=[s,f,u];break;case 1:[r,a,o]=[m,s,u];break;case 2:[r,a,o]=[u,s,f];break;case 3:[r,a,o]=[u,m,s];break;case 4:[r,a,o]=[f,u,s];break;case 5:[r,a,o]=[s,u,m];break}}return[r,a,o,e.length>3?e[3]:1]},{min:Xo,max:Lo}=Math,No=(...e)=>{e=q(e,"rgb");let[t,n,s]=e;const r=Xo(t,n,s),a=Lo(t,n,s),o=a-r;let c,l,u;return u=a/255,a===0?(c=Number.NaN,l=0):(l=o/a,t===a&&(c=(n-s)/o),n===a&&(c=2+(s-t)/o),s===a&&(c=4+(t-n)/o),c*=60,c<0&&(c+=360)),[c,l,u]};M.prototype.hsv=function(){return No(this._rgb)};const jo=(...e)=>new M(...e,"hsv");nt.hsv=jo;U.format.hsv=Yo;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"hsv"),Q(e)==="array"&&e.length===3)return"hsv"}});const Bo=(e,t,n)=>Pe(e,t,n,"hsv");wt.hsv=Bo;function pn(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(o=>[o]));let s=t[0].length,r=t[0].map((o,c)=>t.map(l=>l[c])),a=e.map(o=>r.map(c=>Array.isArray(o)?o.reduce((l,u,m)=>l+u*(c[m]||0),0):c.reduce((l,u)=>l+u*o,0)));return n===1&&(a=a[0]),s===1?a.map(o=>o[0]):a}const _i=(...e)=>{e=q(e,"lab");const[t,n,s,...r]=e,[a,o,c]=Do([t,n,s]),[l,u,m]=rr(a,o,c);return[l,u,m,...r.length>0&&r[0]<1?[r[0]]:[]]};function Do(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],s=pn(n,e);return pn(t,s.map(r=>r**3))}const xi=(...e)=>{const[t,n,s,...r]=q(e,"rgb"),a=ar(t,n,s);return[...Io(a),...r.length>0&&r[0]<1?[r[0]]:[]]};function Io(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],s=pn(t,e);return pn(n,s.map(r=>Math.cbrt(r)))}M.prototype.oklab=function(){return xi(this._rgb)};const Oo=(...e)=>new M(...e,"oklab");Object.assign(nt,{oklab:Oo});U.format.oklab=_i;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"oklab"),Q(e)==="array"&&e.length===3)return"oklab"}});const zo=(e,t,n)=>{const s=e.oklab(),r=t.oklab();return new M(s[0]+n*(r[0]-s[0]),s[1]+n*(r[1]-s[1]),s[2]+n*(r[2]-s[2]),"oklab")};wt.oklab=zo;const Go=(e,t,n)=>Pe(e,t,n,"oklch");wt.oklch=Go;const{pow:Zn,sqrt:Kn,PI:Jn,cos:ks,sin:Ms,atan2:Ho}=Math,Fo=(e,t="lrgb",n=null)=>{const s=e.length;n||(n=Array.from(new Array(s)).map(()=>1));const r=s/n.reduce(function(f,d){return f+d});if(n.forEach((f,d)=>{n[d]*=r}),e=e.map(f=>new M(f)),t==="lrgb")return Uo(e,n);const a=e.shift(),o=a.get(t),c=[];let l=0,u=0;for(let f=0;f<o.length;f++)if(o[f]=(o[f]||0)*n[0],c.push(isNaN(o[f])?0:n[0]),t.charAt(f)==="h"&&!isNaN(o[f])){const d=o[f]/180*Jn;l+=ks(d)*n[0],u+=Ms(d)*n[0]}let m=a.alpha()*n[0];e.forEach((f,d)=>{const x=f.get(t);m+=f.alpha()*n[d+1];for(let A=0;A<o.length;A++)if(!isNaN(x[A]))if(c[A]+=n[d+1],t.charAt(A)==="h"){const X=x[A]/180*Jn;l+=ks(X)*n[d+1],u+=Ms(X)*n[d+1]}else o[A]+=x[A]*n[d+1]});for(let f=0;f<o.length;f++)if(t.charAt(f)==="h"){let d=Ho(u/c[f],l/c[f])/Jn*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;o[f]=d}else o[f]=o[f]/c[f];return m/=s,new M(o,t).alpha(m>.99999?1:m,!0)},Uo=(e,t)=>{const n=e.length,s=[0,0,0,0];for(let r=0;r<e.length;r++){const a=e[r],o=t[r]/n,c=a._rgb;s[0]+=Zn(c[0],2)*o,s[1]+=Zn(c[1],2)*o,s[2]+=Zn(c[2],2)*o,s[3]+=c[3]*o}return s[0]=Kn(s[0]),s[1]=Kn(s[1]),s[2]=Kn(s[2]),s[3]>.9999999&&(s[3]=1),new M(gi(s))},{pow:qo}=Math;function gn(e){let t="rgb",n=nt("#ccc"),s=0,r=[0,1],a=[0,1],o=[],c=[0,0],l=!1,u=[],m=!1,f=0,d=1,x=!1,A={},X=!0,b=1;const k=function(v){if(v=v||["#fff","#000"],v&&Q(v)==="string"&&nt.brewer&&nt.brewer[v.toLowerCase()]&&(v=nt.brewer[v.toLowerCase()]),Q(v)==="array"){v.length===1&&(v=[v[0],v[0]]),v=v.slice(0);for(let T=0;T<v.length;T++)v[T]=nt(v[T]);o.length=0;for(let T=0;T<v.length;T++)o.push(T/(v.length-1))}return j(),u=v},it=function(v){if(l!=null){const T=l.length-1;let S=0;for(;S<T&&v>=l[S];)S++;return S-1}return 0};let tt=v=>v,B=v=>v;const et=function(v,T){let S,D;if(T==null&&(T=!1),isNaN(v)||v===null)return n;T?D=v:l&&l.length>2?D=it(v)/(l.length-2):d!==f?D=(v-f)/(d-f):D=1,D=B(D),T||(D=tt(D)),b!==1&&(D=qo(D,b)),D=c[0]+D*(1-c[0]-c[1]),D=ge(D,0,1);const G=Math.floor(D*1e4);if(X&&A[G])S=A[G];else{if(Q(u)==="array")for(let z=0;z<o.length;z++){const ct=o[z];if(D<=ct){S=u[z];break}if(D>=ct&&z===o.length-1){S=u[z];break}if(D>ct&&D<o[z+1]){D=(D-ct)/(o[z+1]-ct),S=nt.interpolate(u[z],u[z+1],D,t);break}}else Q(u)==="function"&&(S=u(D));X&&(A[G]=S)}return S};var j=()=>A={};k(e);const L=function(v){const T=nt(et(v));return m&&T[m]?T[m]():T};return L.classes=function(v){if(v!=null){if(Q(v)==="array")l=v,r=[v[0],v[v.length-1]];else{const T=nt.analyze(r);v===0?l=[T.min,T.max]:l=nt.limits(T,"e",v)}return L}return l},L.domain=function(v){if(!arguments.length)return a;a=v.slice(0),f=v[0],d=v[v.length-1],o=[];const T=u.length;if(v.length===T&&f!==d)for(let S of Array.from(v))o.push((S-f)/(d-f));else{for(let S=0;S<T;S++)o.push(S/(T-1));if(v.length>2){const S=v.map((G,z)=>z/(v.length-1)),D=v.map(G=>(G-f)/(d-f));D.every((G,z)=>S[z]===G)||(B=G=>{if(G<=0||G>=1)return G;let z=0;for(;G>=D[z+1];)z++;const ct=(G-D[z])/(D[z+1]-D[z]);return S[z]+ct*(S[z+1]-S[z])})}}return r=[f,d],L},L.mode=function(v){return arguments.length?(t=v,j(),L):t},L.range=function(v,T){return k(v),L},L.out=function(v){return m=v,L},L.spread=function(v){return arguments.length?(s=v,L):s},L.correctLightness=function(v){return v==null&&(v=!0),x=v,j(),x?tt=function(T){const S=et(0,!0).lab()[0],D=et(1,!0).lab()[0],G=S>D;let z=et(T,!0).lab()[0];const ct=S+(D-S)*T;let N=z-ct,Nt=0,Rt=1,St=20;for(;Math.abs(N)>.01&&St-- >0;)(function(){return G&&(N*=-1),N<0?(Nt=T,T+=(Rt-T)*.5):(Rt=T,T+=(Nt-T)*.5),z=et(T,!0).lab()[0],N=z-ct})();return T}:tt=T=>T,L},L.padding=function(v){return v!=null?(Q(v)==="number"&&(v=[v,v]),c=v,L):c},L.colors=function(v,T){arguments.length<2&&(T="hex");let S=[];if(arguments.length===0)S=u.slice(0);else if(v===1)S=[L(.5)];else if(v>1){const D=r[0],G=r[1]-D;S=Vo(0,v).map(z=>L(D+z/(v-1)*G))}else{e=[];let D=[];if(l&&l.length>2)for(let G=1,z=l.length,ct=1<=z;ct?G<z:G>z;ct?G++:G--)D.push((l[G-1]+l[G])*.5);else D=r;S=D.map(G=>L(G))}return nt[T]&&(S=S.map(D=>D[T]())),S},L.cache=function(v){return v!=null?(X=v,L):X},L.gamma=function(v){return v!=null?(b=v,L):b},L.nodata=function(v){return v!=null?(n=nt(v),L):n},L}function Vo(e,t,n){let s=[],r=e<t,a=t;for(let o=e;r?o<a:o>a;r?o++:o--)s.push(o);return s}const Wo=function(e){let t=[1,1];for(let n=1;n<e;n++){let s=[1];for(let r=1;r<=t.length;r++)s[r]=(t[r]||0)+t[r-1];t=s}return t},Zo=function(e){let t,n,s,r;if(e=e.map(a=>new M(a)),e.length===2)[n,s]=e.map(a=>a.lab()),t=function(a){const o=[0,1,2].map(c=>n[c]+a*(s[c]-n[c]));return new M(o,"lab")};else if(e.length===3)[n,s,r]=e.map(a=>a.lab()),t=function(a){const o=[0,1,2].map(c=>(1-a)*(1-a)*n[c]+2*(1-a)*a*s[c]+a*a*r[c]);return new M(o,"lab")};else if(e.length===4){let a;[n,s,r,a]=e.map(o=>o.lab()),t=function(o){const c=[0,1,2].map(l=>(1-o)*(1-o)*(1-o)*n[l]+3*(1-o)*(1-o)*o*s[l]+3*(1-o)*o*o*r[l]+o*o*o*a[l]);return new M(c,"lab")}}else if(e.length>=5){let a,o,c;a=e.map(l=>l.lab()),c=e.length-1,o=Wo(c),t=function(l){const u=1-l,m=[0,1,2].map(f=>a.reduce((d,x,A)=>d+o[A]*u**(c-A)*l**A*x[f],0));return new M(m,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Ko=e=>{const t=Zo(e);return t.scale=()=>gn(t),t},{round:dr}=Math;M.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(dr)};M.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:dr(t):t)};const Jo=(...e)=>new M(...e,"rgb");Object.assign(nt,{rgb:Jo});U.format.rgb=(...e)=>{const t=q(e,"rgba");return t[3]===void 0&&(t[3]=1),t};U.autodetect.push({p:3,test:(...e)=>{if(e=q(e,"rgba"),Q(e)==="array"&&(e.length===3||e.length===4&&Q(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const Ot=(e,t,n)=>{if(!Ot[n])throw new Error("unknown blend mode "+n);return Ot[n](e,t)},oe=e=>(t,n)=>{const s=nt(n).rgb(),r=nt(t).rgb();return nt.rgb(e(s,r))},le=e=>(t,n)=>{const s=[];return s[0]=e(t[0],n[0]),s[1]=e(t[1],n[1]),s[2]=e(t[2],n[2]),s},Qo=e=>e,tl=(e,t)=>e*t/255,el=(e,t)=>e>t?t:e,nl=(e,t)=>e>t?e:t,il=(e,t)=>255*(1-(1-e/255)*(1-t/255)),sl=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),rl=(e,t)=>255*(1-(1-t/255)/(e/255)),al=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Ot.normal=oe(le(Qo));Ot.multiply=oe(le(tl));Ot.screen=oe(le(il));Ot.overlay=oe(le(sl));Ot.darken=oe(le(el));Ot.lighten=oe(le(nl));Ot.dodge=oe(le(al));Ot.burn=oe(le(rl));const{pow:ol,sin:ll,cos:cl}=Math;function fl(e=300,t=-1.5,n=1,s=1,r=[0,1]){let a=0,o;Q(r)==="array"?o=r[1]-r[0]:(o=0,r=[r,r]);const c=function(l){const u=Jt*((e+120)/360+t*l),m=ol(r[0]+o*l,s),d=(a!==0?n[0]+l*a:n)*m*(1-m)/2,x=cl(u),A=ll(u),X=m+d*(-.14861*x+1.78277*A),b=m+d*(-.29227*x-.90649*A),k=m+d*(1.97294*x);return nt(gi([X*255,b*255,k*255,1]))};return c.start=function(l){return l==null?e:(e=l,c)},c.rotations=function(l){return l==null?t:(t=l,c)},c.gamma=function(l){return l==null?s:(s=l,c)},c.hue=function(l){return l==null?n:(n=l,Q(n)==="array"?(a=n[1]-n[0],a===0&&(n=n[1])):a=0,c)},c.lightness=function(l){return l==null?r:(Q(l)==="array"?(r=l,o=l[1]-l[0]):(r=[l,l],o=0),c)},c.scale=()=>nt.scale(c),c.hue(n),c}const dl="0123456789abcdef",{floor:ul,random:hl}=Math,ml=(e=hl)=>{let t="#";for(let n=0;n<6;n++)t+=dl.charAt(ul(e()*16));return new M(t,"hex")},{log:$s,pow:pl,floor:gl,abs:bl}=Math;function ur(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Q(e)==="object"&&(e=Object.values(e)),e.forEach(s=>{t&&Q(s)==="object"&&(s=s[t]),s!=null&&!isNaN(s)&&(n.values.push(s),n.sum+=s,s<n.min&&(n.min=s),s>n.max&&(n.max=s),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(s,r)=>hr(n,s,r),n}function hr(e,t="equal",n=7){Q(e)=="array"&&(e=ur(e));const{min:s,max:r}=e,a=e.values.sort((c,l)=>c-l);if(n===1)return[s,r];const o=[];if(t.substr(0,1)==="c"&&(o.push(s),o.push(r)),t.substr(0,1)==="e"){o.push(s);for(let c=1;c<n;c++)o.push(s+c/n*(r-s));o.push(r)}else if(t.substr(0,1)==="l"){if(s<=0)throw new Error("Logarithmic scales are only possible for values > 0");const c=Math.LOG10E*$s(s),l=Math.LOG10E*$s(r);o.push(s);for(let u=1;u<n;u++)o.push(pl(10,c+u/n*(l-c)));o.push(r)}else if(t.substr(0,1)==="q"){o.push(s);for(let c=1;c<n;c++){const l=(a.length-1)*c/n,u=gl(l);if(u===l)o.push(a[u]);else{const m=l-u;o.push(a[u]*(1-m)+a[u+1]*m)}}o.push(r)}else if(t.substr(0,1)==="k"){let c;const l=a.length,u=new Array(l),m=new Array(n);let f=!0,d=0,x=null;x=[],x.push(s);for(let b=1;b<n;b++)x.push(s+b/n*(r-s));for(x.push(r);f;){for(let k=0;k<n;k++)m[k]=0;for(let k=0;k<l;k++){const it=a[k];let tt=Number.MAX_VALUE,B;for(let et=0;et<n;et++){const j=bl(x[et]-it);j<tt&&(tt=j,B=et),m[B]++,u[k]=B}}const b=new Array(n);for(let k=0;k<n;k++)b[k]=null;for(let k=0;k<l;k++)c=u[k],b[c]===null?b[c]=a[k]:b[c]+=a[k];for(let k=0;k<n;k++)b[k]*=1/m[k];f=!1;for(let k=0;k<n;k++)if(b[k]!==x[k]){f=!0;break}x=b,d++,d>200&&(f=!1)}const A={};for(let b=0;b<n;b++)A[b]=[];for(let b=0;b<l;b++)c=u[b],A[c].push(a[b]);let X=[];for(let b=0;b<n;b++)X.push(A[b][0]),X.push(A[b][A[b].length-1]);X=X.sort((b,k)=>b-k),o.push(X[0]);for(let b=1;b<X.length;b+=2){const k=X[b];!isNaN(k)&&o.indexOf(k)===-1&&o.push(k)}}return o}const vl=(e,t)=>{e=new M(e),t=new M(t);const n=e.luminance(),s=t.luminance();return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)};const Es=.027,yl=5e-4,wl=.1,Ps=1.14,rn=.022,Cs=1.414,_l=(e,t)=>{e=new M(e),t=new M(t),e.alpha()<1&&(e=$e(t,e,e.alpha(),"rgb"));const n=As(...e.rgb()),s=As(...t.rgb()),r=n>=rn?n:n+Math.pow(rn-n,Cs),a=s>=rn?s:s+Math.pow(rn-s,Cs),o=Math.pow(a,.56)-Math.pow(r,.57),c=Math.pow(a,.65)-Math.pow(r,.62),l=Math.abs(a-r)<yl?0:r<a?o*Ps:c*Ps;return(Math.abs(l)<wl?0:l>0?l-Es:l+Es)*100};function As(e,t,n){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:Vt,pow:mt,min:xl,max:kl,atan2:Rs,abs:Ss,cos:an,sin:Ts,exp:Ml,PI:Ys}=Math;function $l(e,t,n=1,s=1,r=1){var a=function(Ft){return 360*Ft/(2*Ys)},o=function(Ft){return 2*Ys*Ft/360};e=new M(e),t=new M(t);const[c,l,u]=Array.from(e.lab()),[m,f,d]=Array.from(t.lab()),x=(c+m)/2,A=Vt(mt(l,2)+mt(u,2)),X=Vt(mt(f,2)+mt(d,2)),b=(A+X)/2,k=.5*(1-Vt(mt(b,7)/(mt(b,7)+mt(25,7)))),it=l*(1+k),tt=f*(1+k),B=Vt(mt(it,2)+mt(u,2)),et=Vt(mt(tt,2)+mt(d,2)),j=(B+et)/2,L=a(Rs(u,it)),v=a(Rs(d,tt)),T=L>=0?L:L+360,S=v>=0?v:v+360,D=Ss(T-S)>180?(T+S+360)/2:(T+S)/2,G=1-.17*an(o(D-30))+.24*an(o(2*D))+.32*an(o(3*D+6))-.2*an(o(4*D-63));let z=S-T;z=Ss(z)<=180?z:S<=T?z+360:z-360,z=2*Vt(B*et)*Ts(o(z)/2);const ct=m-c,N=et-B,Nt=1+.015*mt(x-50,2)/Vt(20+mt(x-50,2)),Rt=1+.045*j,St=1+.015*j*G,ce=30*Ml(-mt((D-275)/25,2)),fe=-(2*Vt(mt(j,7)/(mt(j,7)+mt(25,7))))*Ts(2*o(ce)),ft=Vt(mt(ct/(n*Nt),2)+mt(N/(s*Rt),2)+mt(z/(r*St),2)+fe*(N/(s*Rt))*(z/(r*St)));return kl(0,xl(100,ft))}function El(e,t,n="lab"){e=new M(e),t=new M(t);const s=e.get(n),r=t.get(n);let a=0;for(let o in s){const c=(s[o]||0)-(r[o]||0);a+=c*c}return Math.sqrt(a)}const Pl=(...e)=>{try{return new M(...e),!0}catch{return!1}},Cl={cool(){return gn([nt.hsl(180,1,.9),nt.hsl(250,.7,.4)])},hot(){return gn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},oi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mr=Object.keys(oi),Xs=new Map(mr.map(e=>[e.toLowerCase(),e])),Al=typeof Proxy=="function"?new Proxy(oi,{get(e,t){const n=t.toLowerCase();if(Xs.has(n))return e[Xs.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(mr)}}):oi,Rl=(...e)=>{e=q(e,"cmyk");const[t,n,s,r]=e,a=e.length>4?e[4]:1;return r===1?[0,0,0,a]:[t>=1?0:255*(1-t)*(1-r),n>=1?0:255*(1-n)*(1-r),s>=1?0:255*(1-s)*(1-r),a]},{max:Ls}=Math,Sl=(...e)=>{let[t,n,s]=q(e,"rgb");t=t/255,n=n/255,s=s/255;const r=1-Ls(t,Ls(n,s)),a=r<1?1/(1-r):0,o=(1-t-r)*a,c=(1-n-r)*a,l=(1-s-r)*a;return[o,c,l,r]};M.prototype.cmyk=function(){return Sl(this._rgb)};const Tl=(...e)=>new M(...e,"cmyk");Object.assign(nt,{cmyk:Tl});U.format.cmyk=Rl;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"cmyk"),Q(e)==="array"&&e.length===4)return"cmyk"}});const Yl=(...e)=>{const t=q(e,"hsla");let n=Ee(e)||"lsa";return t[0]=Xt(t[0]||0)+"deg",t[1]=Xt(t[1]*100)+"%",t[2]=Xt(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),n="hsla"):t.length=3,`${n.substr(0,3)}(${t.join(" ")})`},Xl=(...e)=>{const t=q(e,"lab");let n=Ee(e)||"lab";return t[0]=Xt(t[0])+"%",t[1]=Xt(t[1]),t[2]=Xt(t[2]),n==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},Ll=(...e)=>{const t=q(e,"lch");let n=Ee(e)||"lab";return t[0]=Xt(t[0])+"%",t[1]=Xt(t[1]),t[2]=isNaN(t[2])?"none":Xt(t[2])+"deg",n==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},Nl=(...e)=>{const t=q(e,"lab");return t[0]=Xt(t[0]*100)+"%",t[1]=ri(t[1]),t[2]=ri(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},pr=(...e)=>{const[t,n,s,...r]=q(e,"rgb"),[a,o,c]=xi(t,n,s),[l,u,m]=lr(a,o,c);return[l,u,m,...r.length>0&&r[0]<1?[r[0]]:[]]},jl=(...e)=>{const t=q(e,"lch");return t[0]=Xt(t[0]*100)+"%",t[1]=ri(t[1]),t[2]=isNaN(t[2])?"none":Xt(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:Qn}=Math,Bl=(...e)=>{const t=q(e,"rgba");let n=Ee(e)||"rgb";if(n.substr(0,3)==="hsl")return Yl(fr(t),n);if(n.substr(0,3)==="lab"){const s=Oe();ee("d50");const r=Xl(vi(t),n);return ee(s),r}if(n.substr(0,3)==="lch"){const s=Oe();ee("d50");const r=Ll(wi(t),n);return ee(s),r}return n.substr(0,5)==="oklab"?Nl(xi(t)):n.substr(0,5)==="oklch"?jl(pr(t)):(t[0]=Qn(t[0]),t[1]=Qn(t[1]),t[2]=Qn(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),n="rgba"),`${n.substr(0,3)}(${t.slice(0,n==="rgb"?3:4).join(" ")})`)},gr=(...e)=>{e=q(e,"lch");const[t,n,s,...r]=e,[a,o,c]=or(t,n,s),[l,u,m]=_i(a,o,c);return[l,u,m,...r.length>0&&r[0]<1?[r[0]]:[]]},ne=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,It=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,bn=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Lt=/\s*/.source,Ce=/\s+/.source,ki=/\s*,\s*/.source,Mn=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Ae=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,br=new RegExp("^rgba?\\("+Lt+[ne,ne,ne].join(Ce)+Ae+"\\)$"),vr=new RegExp("^rgb\\("+Lt+[ne,ne,ne].join(ki)+Lt+"\\)$"),yr=new RegExp("^rgba\\("+Lt+[ne,ne,ne,It].join(ki)+Lt+"\\)$"),wr=new RegExp("^hsla?\\("+Lt+[Mn,bn,bn].join(Ce)+Ae+"\\)$"),_r=new RegExp("^hsl?\\("+Lt+[Mn,bn,bn].join(ki)+Lt+"\\)$"),xr=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,kr=new RegExp("^lab\\("+Lt+[It,It,It].join(Ce)+Ae+"\\)$"),Mr=new RegExp("^lch\\("+Lt+[It,It,Mn].join(Ce)+Ae+"\\)$"),$r=new RegExp("^oklab\\("+Lt+[It,It,It].join(Ce)+Ae+"\\)$"),Er=new RegExp("^oklch\\("+Lt+[It,It,Mn].join(Ce)+Ae+"\\)$"),{round:Pr}=Math,xe=e=>e.map((t,n)=>n<=2?ge(Pr(t),0,255):t),pt=(e,t=0,n=100,s=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,s?e=t+(e+1)*.5*(n-t):e=t+e*(n-t)),+e),kt=(e,t)=>e==="none"?t:e,Mi=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(U.format.named)try{return U.format.named(e)}catch{}if((t=e.match(br))||(t=e.match(vr))){let n=t.slice(1,4);for(let r=0;r<3;r++)n[r]=+pt(kt(n[r],0),0,255);n=xe(n);const s=t[4]!==void 0?+pt(t[4],0,1):1;return n[3]=s,n}if(t=e.match(yr)){const n=t.slice(1,5);for(let s=0;s<4;s++)n[s]=+pt(n[s],0,255);return n}if((t=e.match(wr))||(t=e.match(_r))){const n=t.slice(1,4);n[0]=+kt(n[0].replace("deg",""),0),n[1]=+pt(kt(n[1],0),0,100)*.01,n[2]=+pt(kt(n[2],0),0,100)*.01;const s=xe(ai(n)),r=t[4]!==void 0?+pt(t[4],0,1):1;return s[3]=r,s}if(t=e.match(xr)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const s=ai(n);for(let r=0;r<3;r++)s[r]=Pr(s[r]);return s[3]=+t[4],s}if(t=e.match(kr)){const n=t.slice(1,4);n[0]=pt(kt(n[0],0),0,100),n[1]=pt(kt(n[1],0),-125,125,!0),n[2]=pt(kt(n[2],0),-125,125,!0);const s=Oe();ee("d50");const r=xe(bi(n));ee(s);const a=t[4]!==void 0?+pt(t[4],0,1):1;return r[3]=a,r}if(t=e.match(Mr)){const n=t.slice(1,4);n[0]=pt(n[0],0,100),n[1]=pt(kt(n[1],0),0,150,!1),n[2]=+kt(n[2].replace("deg",""),0);const s=Oe();ee("d50");const r=xe(yi(n));ee(s);const a=t[4]!==void 0?+pt(t[4],0,1):1;return r[3]=a,r}if(t=e.match($r)){const n=t.slice(1,4);n[0]=pt(kt(n[0],0),0,1),n[1]=pt(kt(n[1],0),-.4,.4,!0),n[2]=pt(kt(n[2],0),-.4,.4,!0);const s=xe(_i(n)),r=t[4]!==void 0?+pt(t[4],0,1):1;return s[3]=r,s}if(t=e.match(Er)){const n=t.slice(1,4);n[0]=pt(kt(n[0],0),0,1),n[1]=pt(kt(n[1],0),0,.4,!1),n[2]=+kt(n[2].replace("deg",""),0);const s=xe(gr(n)),r=t[4]!==void 0?+pt(t[4],0,1):1;return s[3]=r,s}};Mi.test=e=>br.test(e)||wr.test(e)||kr.test(e)||Mr.test(e)||$r.test(e)||Er.test(e)||vr.test(e)||yr.test(e)||_r.test(e)||xr.test(e)||e==="transparent";M.prototype.css=function(e){return Bl(this._rgb,e)};const Dl=(...e)=>new M(...e,"css");nt.css=Dl;U.format.css=Mi;U.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Q(e)==="string"&&Mi.test(e))return"css"}});U.format.gl=(...e)=>{const t=q(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const Il=(...e)=>new M(...e,"gl");nt.gl=Il;M.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};M.prototype.hex=function(e){return sr(this._rgb,e)};const Ol=(...e)=>new M(...e,"hex");nt.hex=Ol;U.format.hex=ir;U.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&Q(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:on}=Math,Cr=e=>{const t=e/100;let n,s,r;return t<66?(n=255,s=t<6?0:-155.25485562709179-.44596950469579133*(s=t-2)+104.49216199393888*on(s),r=t<20?0:-254.76935184120902+.8274096064007395*(r=t-10)+115.67994401066147*on(r)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*on(n),s=325.4494125711974+.07943456536662342*(s=t-50)-28.0852963507957*on(s),r=255),[n,s,r,1]},{round:zl}=Math,Gl=(...e)=>{const t=q(e,"rgb"),n=t[0],s=t[2];let r=1e3,a=4e4;const o=.4;let c;for(;a-r>o;){c=(a+r)*.5;const l=Cr(c);l[2]/l[0]>=s/n?a=c:r=c}return zl(c)};M.prototype.temp=M.prototype.kelvin=M.prototype.temperature=function(){return Gl(this._rgb)};const ti=(...e)=>new M(...e,"temp");Object.assign(nt,{temp:ti,kelvin:ti,temperature:ti});U.format.temp=U.format.kelvin=U.format.temperature=Cr;M.prototype.oklch=function(){return pr(this._rgb)};const Hl=(...e)=>new M(...e,"oklch");Object.assign(nt,{oklch:Hl});U.format.oklch=gr;U.autodetect.push({p:2,test:(...e)=>{if(e=q(e,"oklch"),Q(e)==="array"&&e.length===3)return"oklch"}});Object.assign(nt,{analyze:ur,average:Fo,bezier:Ko,blend:Ot,brewer:Al,Color:M,colors:Me,contrast:vl,contrastAPCA:_l,cubehelix:fl,deltaE:$l,distance:El,input:U,interpolate:$e,limits:hr,mix:$e,random:ml,scale:gn,scales:Cl,valid:Pl});function Fl(e){if(e===void 0&&(e=crypto.randomUUID()),typeof e=="number")return e;const t=`${e}`;let n=0;for(let s=0;s<t.length;++s)n^=t.charCodeAt(s)|0;return n}function Ul(e,t){var n;const s=`${e}`;let r=0,a=0;for(;a<s.length;)t[255&a]=255&(r^=((n=t[255&a])!=null?n:0)*19)+s.charCodeAt(a++);return t.length?t:[0]}function ql(){const e=document.getElementById("game-back-button");e&&(e.style.display="none")}function Vl(){const e=document.getElementById("dt-logo");e&&(e.style.display="none")}function Wl(){document.body.classList.add("dark-mode")}function Zl(){document.body.classList.remove("dark-mode")}var Kl=281474976710656,Jl=4503599627370496,Ql=9007199254740992,tc=class Ar{constructor(t){const n=Fl(t);this._seed=n;const s=Ul(n,[]),r=[],a=s.length;this.i=0,this.j=0,this.S=r;let o=0;for(;o<=255;)r[o]=o++;for(let c=0,l=0;c<=255;c++){const u=r[c];l=255&l+s[c%a]+u,r[c]=r[l],r[l]=u}this.g(256)}get name(){return"arc4"}next(){let t=this.g(6),n=Kl,s=0;for(;t<Jl;)t=(t+s)*256,n*=256,s=this.g(1);for(;t>=Ql;)t/=2,n/=2,s>>>=1;return(t+s)/n}g(t){const{S:n}=this;let{i:s,j:r}=this,a=0;for(;t--;){s=255&s+1;const o=n[s];n[r]=o,r=255&r+o,n[s]=n[r],a=a*256+n[255&n[s]+o]}return this.i=s,this.j=r,a}clone(){return new Ar(this._seed)}};class ec{constructor(t=null,n=null){this.rng=null,this.gameSplash=t,this.splashDate=n,this.gameSeed=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),this.initRNG(this.gameSeed),this.splashDate!=null&&(this.splashDate.innerText=new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(new Date)),window.hideBackButton=ql,window.hideHeader=Vl,window.enableDarkMode=Wl,window.disableDarkMode=Zl,console.log("Daily Trojan GameCore Initialized")}initRNG(t){this.rng=new tc(t)}homeRedirect(){this.redirect("https://dailytrojan.com/games/")}back(){this.redirect("../")}redirect(t){window.location.href=t}hideSplashScreen(){this.gameSplash!=null&&this.gameSplash.classList.add("game-splash-hidden")}randomArrayElement(t){const n=t.length,s=Math.floor(this.rng.next()*n);return t[s]}randomInt(t=0,n=1){return Math.floor(this.rng.next()*(n-t+1)+t)}randomFloat(t=0,n=1){return this.rng.next()*(n-t)+t}copyToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{console.log("Text copied to clipboard")}).catch(n=>{console.error("Failed to copy text: ",n)}):console.error("Clipboard API not supported")}formatString(t,...n){if(n.length){var s;for(s in n)t=t.replace(new RegExp("\\{"+s+"\\}","gi"),n[s])}return t}showToast(t,n,s=3e3){const r=document.createElement("div");r.classList.add("toast-notification"),r.innerHTML=t;let a=document.createElement("i");a.classList.add("ti"),a.classList.add(n),r.prepend(a),document.body.appendChild(r),setTimeout(()=>{r.classList.add("toast-show")},1),setTimeout(()=>{r.classList.remove("toast-show"),setTimeout(()=>{r.remove()},300)},s)}}function vn(e){return Object.prototype.toString.call(e)==="[object Date]"}function li(e,t,n,s){if(typeof n=="number"||vn(n)){const r=s-n,a=(n-t)/(e.dt||1/60),o=e.opts.stiffness*r,c=e.opts.damping*a,l=(o-c)*e.inv_mass,u=(a+l)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(r)<e.opts.precision?s:(e.settled=!1,vn(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((r,a)=>li(e,t[a],n[a],s[a]));if(typeof n=="object"){const r={};for(const a in n)r[a]=li(e,t[a],n[a],s[a]);return r}else throw new Error(`Cannot spring ${typeof n} values`)}}class Yt{#e=Z(.15);#n=Z(.8);#i=Z(.01);#t;#r;#a=void 0;#l=0;#o=1;#f=0;#s=null;#c=null;constructor(t,n={}){this.#t=Z(t),this.#r=Z(t),typeof n.stiffness=="number"&&(this.#e.v=ln(n.stiffness,0,1)),typeof n.damping=="number"&&(this.#n.v=ln(n.damping,0,1)),typeof n.precision=="number"&&(this.#i.v=n.precision)}static of(t,n){const s=new Yt(t(),n);return Us(()=>{s.set(t())}),s}#d(t){if(E(this.#r,t),this.#t.v??=t,this.#a??=this.#t.v,!this.#s){this.#l=Dt.now();var n=1e3/(this.#f*60);this.#s??=Ks(s=>{this.#o=Math.min(this.#o+n,1);const r=Math.min(s-this.#l,1e3/30),a={inv_mass:this.#o,opts:{stiffness:this.#e.v,damping:this.#n.v,precision:this.#i.v},settled:!0,dt:r*60/1e3};var o=li(a,this.#a,this.#t.v,this.#r.v);return this.#a=this.#t.v,this.#l=s,E(this.#t,o),a.settled&&(this.#s=null),!a.settled})}return this.#s.promise}set(t,n){if(this.#c?.reject(new Error("Aborted")),n?.instant||this.#t.v===void 0)return this.#s?.abort(),this.#s=null,E(this.#t,E(this.#r,t)),this.#a=t,Promise.resolve();n?.preserveMomentum&&(this.#o=0,this.#f=n.preserveMomentum);var s=this.#c=ka();return s.promise.catch(qs),this.#d(t).then(()=>{s===this.#c&&s.resolve(void 0)}),s.promise}get current(){return i(this.#t)}get damping(){return i(this.#n)}set damping(t){E(this.#n,ln(t,0,1))}get precision(){return i(this.#i)}set precision(t){E(this.#i,t)}get stiffness(){return i(this.#e)}set stiffness(t){E(this.#e,ln(t,0,1))}get target(){return i(this.#r)}set target(t){this.set(t)}}function ln(e,t,n){return Math.max(t,Math.min(n,e))}function nc(e){return e}function ic(e){return-.5*(Math.cos(Math.PI*e)-1)}function ci(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((r,a)=>ci(e[a],r));return r=>s.map(a=>a(r))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(vn(e)&&vn(t)){const a=e.getTime(),c=t.getTime()-a;return l=>new Date(a+l*c)}const s=Object.keys(t),r={};return s.forEach(a=>{r[a]=ci(e[a],t[a])}),a=>{const o={};return s.forEach(c=>{o[c]=r[c](a)}),o}}if(n==="number"){const s=t-e;return r=>e+r*s}return()=>t}class $i{#e;#n;#i;#t=null;constructor(t,n={}){this.#e=Z(t),this.#n=Z(t),this.#i=n}static of(t,n){const s=new $i(t(),n);return Us(()=>{s.set(t())}),s}set(t,n){E(this.#n,t);let{delay:s=0,duration:r=400,easing:a=nc,interpolate:o=ci}={...this.#i,...n};if(r===0)return this.#t?.abort(),E(this.#e,t),Promise.resolve();const c=Dt.now()+s;let l,u=!1,m=this.#t;return this.#t=Ks(f=>{if(f<c)return!0;if(!u){u=!0;const x=this.#e.v;l=o(x,t),typeof r=="function"&&(r=r(x,t)),m?.abort()}const d=f-c;return d>r?(E(this.#e,t),!1):(E(this.#e,l(a(d/r))),!0)}),this.#t.promise}get current(){return i(this.#e)}get target(){return i(this.#n)}set target(t){this.set(t)}}const sc=String.raw,Ei=String.raw,rc=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),ac=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),hn=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,yn="--_number-flow-d-opacity",Pi="--_number-flow-d-width",wn="--_number-flow-dx",Ci="--_number-flow-d",oc=(()=>{try{return CSS.registerProperty({name:yn,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:wn,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:Pi,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Ci,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),Ai="var(--number-flow-char-height, 1em)",_n="round(nearest, calc(var(--number-flow-mask-height, 0.25em) / 2), 1px)",re=`calc(${_n} * 2)`,fi="var(--number-flow-mask-width, 0.5em)",me=`calc(${fi} / var(--scale-x))`,cn="#000 0, transparent 71%",lc=Ei`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${Ai} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${Pi}) / var(--width));transform:translateX(var(${wn})) scaleX(var(--scale-x));margin:0 calc(-1 * ${fi});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${me},#000 calc(100% - ${me}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${re},#000 calc(100% - ${re}),transparent 100% ),radial-gradient(at bottom right,${cn}),radial-gradient(at bottom left,${cn}),radial-gradient(at top left,${cn}),radial-gradient(at top right,${cn});-webkit-mask-size:100% calc(100% - ${re} * 2),calc(100% - ${me} * 2) 100%,${me} ${re},${me} ${re},${me} ${re},${me} ${re};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${_n} ${fi};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${wn})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${Ci})}.digit__num,.number .section::after{padding:${_n} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${yn}))}`,cc=HTMLElement,fc=Ei`:host{display:inline-block;direction:ltr;white-space:nowrap;line-height:${Ai} !important}span{display:inline-block}:host([data-will-change]) span{will-change:transform}.number,.digit{padding:${_n} 0}.symbol{white-space:pre}`,dc=e=>`<span class="${e.type==="integer"||e.type==="fraction"?"digit":"symbol"}" part="${e.type==="integer"||e.type==="fraction"?`digit ${e.type}-digit`:`symbol ${e.type}`}">${e.value}</span>`,fn=(e,t)=>`<span part="${t}">${e.reduce((n,s)=>n+dc(s),"")}</span>`,uc=(e="")=>Ei`number-flow${e} > span{font-kerning:none;display:inline-block;line-height:${Ai} !important;padding:${re} 0}`,Ns=(e,{nonce:t,elementSuffix:n}={})=>sc`<template shadowroot="open" shadowrootmode="open"
			><style${t?` nonce="${t}"`:""}>${fc}</style
			><span role="img" aria-label="${e.valueAsString}"
				>${fn(e.pre,"left")}<span part="number" class="number"
					>${fn(e.integer,"integer")}${fn(e.fraction,"fraction")}</span
				>${fn(e.post,"right")}</span
			></template
		><style${t?` nonce="${t}"`:""}>${uc(n)}</style
		><span>${e.valueAsString}</span>`,ae=(e,t,n)=>{const s=document.createElement(e),[r,a]=Array.isArray(t)?[void 0,t]:[t,n];return r&&Object.assign(s,r),a?.forEach(o=>s.appendChild(o)),s},hc=(e,t)=>{var n;return t==="left"?e.offsetLeft:(((n=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:n.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},mc=e=>e.offsetWidth>0&&e.offsetHeight>0,pc=(e,t)=>{!customElements.get(e)&&customElements.define(e,t)};function gc(e,t,{reverse:n=!1}={}){const s=e.length;for(let r=n?s-1:0;n?r>=0:r<s;n?r--:r++)t(e[r],r)}function bc(e,t,n,s){const r=t.formatToParts(e);n&&r.unshift({type:"prefix",value:n}),s&&r.push({type:"suffix",value:s});const a=[],o=[],c=[],l=[],u={},m=X=>`${X}:${u[X]=(u[X]??-1)+1}`;let f="",d=!1,x=!1;for(const X of r){f+=X.value;const b=X.type==="minusSign"||X.type==="plusSign"?"sign":X.type;b==="integer"?(d=!0,o.push(...X.value.split("").map(k=>({type:b,value:parseInt(k)})))):b==="group"?o.push({type:b,value:X.value}):b==="decimal"?(x=!0,c.push({type:b,value:X.value,key:m(b)})):b==="fraction"?c.push(...X.value.split("").map(k=>({type:b,value:parseInt(k),key:m(b),pos:-1-u[b]}))):(d||x?l:a).push({type:b,value:X.value,key:m(b)})}const A=[];for(let X=o.length-1;X>=0;X--){const b=o[X];A.unshift(b.type==="integer"?{...b,key:m(b.type),pos:u[b.type]}:{...b,key:m(b.type)})}return{pre:a,integer:A,fraction:c,post:l,valueAsString:f,value:typeof e=="string"?parseFloat(e):e}}const Rr=ac&&rc&&oc;class Sr extends cc{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,n)}get animated(){return this._animated}set animated(t){var n;this.animated!==t&&(this._animated=t,(n=this.shadowRoot)==null||n.getAnimations().forEach(s=>s.finish()))}set data(t){var n,s;if(t==null)return;const{pre:r,integer:a,fraction:o,post:c,value:l}=t;if(this.created){const u=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(u.value,l):this.trend,this.computedAnimated=Rr&&this._animated&&(!this.respectMotionPreference||!((n=hn)!=null&&n.matches))&&mc(this)&&this.ownerDocument.visibilityState==="visible",(s=this.plugins)==null||s.forEach(m=>{var f;return(f=m.onUpdate)==null?void 0:f.call(m,t,u,this)}),this.batched||this.willUpdate(),this._pre.update(r),this._num.update({integer:a,fraction:o}),this._post.update(c),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}const u=document.createElement("style");this.nonce&&(u.nonce=this.nonce),u.textContent=lc,this.shadowRoot.appendChild(u),this._pre=new Bs(this,r,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new vc(this,a,o),this.shadowRoot.appendChild(this._num.el),this._post=new Bs(this,c,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}Sr.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};class vc{constructor(t,n,s,{className:r,...a}={}){this.flow=t,this._integer=new js(t,n,{justify:"right",part:"integer"}),this._fraction=new js(t,s,{justify:"left",part:"fraction"}),this._inner=ae("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=ae("span",{...a,part:"number",className:`number ${r??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:n}){this._integer.update(t),this._fraction.update(n)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-t.left,s=this.el.offsetWidth,r=this._prevWidth-s;this.el.style.setProperty("--width",String(s)),this.el.animate({[wn]:[`${n}px`,"0px"],[Pi]:[r,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class Tr{constructor(t,n,{justify:s,className:r,...a},o){this.flow=t,this.children=new Map,this.onCharRemove=l=>()=>{this.children.delete(l)},this.justify=s;const c=n.map(l=>this.addChar(l).el);this.el=ae("span",{...a,className:`section section--justify-${s} ${r??""}`},o?o(c):c)}addChar(t,{startDigitsAtZero:n=!1,...s}={}){const r=t.type==="integer"||t.type==="fraction"?new Xr(this,t.type,n?0:t.value,t.pos,{...s,onRemove:this.onCharRemove(t.key)}):new yc(this,t.type,t.value,{...s,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,r),r}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${hc(n.el,this.justify)}px`}),t.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(t){const n=new Map,s=new Map,r=this.justify==="left",a=r?"prepend":"append";if(gc(t,o=>{let c;this.children.has(o.key)?(c=this.children.get(o.key),s.set(o,c),this.unpop(c),c.present=!0):(c=this.addChar(o,{startDigitsAtZero:!0,animateIn:!0}),n.set(o,c)),this.el[a](c.el)},{reverse:r}),this.flow.computedAnimated){const o=this.el.getBoundingClientRect();n.forEach(c=>{c.willUpdate(o)})}n.forEach((o,c)=>{o.update(c.value)}),s.forEach((o,c)=>{o.update(c.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(n=>n.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(r=>r.didUpdate(t));const n=t[this.justify],s=this._prevOffset-n;s&&this.children.size&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class js extends Tr{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s),this.unpop(s)}),this.addNewAndUpdateExisting(t),n.forEach(s=>{s instanceof Xr&&s.update(0)}),this.pop(n)}}class Bs extends Tr{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s)}),this.pop(n),this.addNewAndUpdateExisting(t)}}class di{constructor(t,n,{onRemove:s,animateIn:r=!1}={}){this.flow=t,this.el=n,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&r&&this.el.animate({[yn]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=s}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[yn]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class Yr extends di{constructor(t,n,s,r){super(t.flow,s,r),this.section=t,this.value=n,this.el=s}}class Xr extends Yr{constructor(t,n,s,r,a){var o,c;const l=(((c=(o=t.flow.digits)==null?void 0:o[r])==null?void 0:c.max)??9)+1,u=Array.from({length:l}).map((f,d)=>{const x=ae("span",{className:"digit__num"},[document.createTextNode(String(d))]);return d!==s&&x.setAttribute("inert",""),x.style.setProperty("--n",String(d)),x}),m=ae("span",{part:`digit ${n}-digit`,className:"digit"},u);m.style.setProperty("--current",String(s)),m.style.setProperty("--length",String(l)),super(t,s,m,a),this.pos=r,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=u,this.length=l}willUpdate(t){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const s=n[this.section.justify]-t[this.section.justify],r=n.width/2;this._prevCenter=this.section.justify==="left"?s+r:s-r}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((n,s)=>s===t?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=t}didUpdate(t){const n=this.el.getBoundingClientRect(),s=n[this.section.justify]-t[this.section.justify],r=n.width/2,a=this.section.justify==="left"?s+r:s-r,o=this._prevCenter-a;o&&this.el.animate({transform:[`translateX(${o}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const c=this.getDelta();c&&(this.el.classList.add("is-spinning"),this.el.animate({[Ci]:[-c,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const r of this.flow.plugins){const a=(t=r.getDelta)==null?void 0:t.call(r,this.value,this._prevValue,this);if(a!=null)return a}const n=this.value-this._prevValue,s=this.flow.computedTrend||Math.sign(n);return s<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:s>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}}class yc extends Yr{constructor(t,n,s,r){const a=ae("span",{className:"symbol__value",textContent:s});super(t,s,ae("span",{part:`symbol ${n}`,className:"symbol"},[a]),r),this.type=n,this._children=new Map,this._onChildRemove=o=>()=>{this._children.delete(o)},this._children.set(s,new di(this.flow,a,{onRemove:this._onChildRemove(s)}))}willUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const n=this._children.get(this.value);n&&(n.present=!1);const s=this._children.get(t);if(s)s.present=!0;else{const r=ae("span",{className:"symbol__value",textContent:t});this.el.appendChild(r),this._children.set(t,new di(this.flow,r,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],s=this._prevOffset-n;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}let wc=Symbol("group");function _c(){return Ma(wc)}class Bt extends Sr{set __svelte_batched(t){this.batched=t}set data(t){super.data=t}}Object.keys(Bt.defaultProps).forEach(e=>{Object.defineProperty(Bt.prototype,`__svelte_${e.toLowerCase()}`,{set(t){this[e]=t},enumerable:!0,configurable:!0})});pc("number-flow-svelte",Bt);var xc=$t("<number-flow-svelte><!></number-flow-svelte>",2);function kc(e,t){const n=vs(t,["children","$$slots","$$events","$$legacy"]),s=vs(n,["locales","format","value","prefix","suffix","nonce","willChange","transformTiming","spinTiming","opacityTiming","animated","respectMotionPreference","trend","plugins","digits","el"]);mi(t,!1);const[r,a]=Pa(),o=ii(),c=ii();let l=yt(t,"locales",24,()=>{}),u=yt(t,"format",24,()=>{}),m=yt(t,"value",8),f=yt(t,"prefix",24,()=>{}),d=yt(t,"suffix",24,()=>{}),x=yt(t,"nonce",24,()=>{}),A=yt(t,"willChange",8,!1),X=yt(t,"transformTiming",24,()=>Bt.defaultProps.transformTiming),b=yt(t,"spinTiming",24,()=>Bt.defaultProps.spinTiming),k=yt(t,"opacityTiming",24,()=>Bt.defaultProps.opacityTiming),it=yt(t,"animated",24,()=>Bt.defaultProps.animated),tt=yt(t,"respectMotionPreference",24,()=>Bt.defaultProps.respectMotionPreference),B=yt(t,"trend",24,()=>Bt.defaultProps.trend),et=yt(t,"plugins",24,()=>Bt.defaultProps.plugins),j=yt(t,"digits",24,()=>Bt.defaultProps.digits),L=yt(t,"el",28,()=>{});const v=Sa(L()),T=_c();T?.register?.(v),Hn(()=>qt(L()),()=>{Ca(v,L())}),Hn(()=>(qt(l()),qt(u())),()=>{E(o,new Intl.NumberFormat(l(),u()))}),Hn(()=>(qt(m()),i(o),qt(f()),qt(d())),()=>{E(c,bc(m(),i(o),f(),d()))}),$a(),Ya();var S=xc();Ra(S,G=>({...s,"data-will-change":A()?"":void 0,__svelte_batched:G,__svelte_transformtiming:X(),__svelte_spintiming:b(),__svelte_opacitytiming:k(),__svelte_animated:it(),__svelte_respectmotionpreference:tt(),__svelte_trend:B(),__svelte_plugins:et(),__svelte_digits:j(),nonce:x(),data:i(c)}),[()=>bs(()=>!!T)]);var D=O(S);Da(D,()=>(qt(ys),qt(Ns),i(c),qt(x()),bs(()=>ys?void 0:Ns(i(c),{nonce:x(),elementSuffix:"-svelte"})))),I(S),pe(S,G=>L(G),()=>L()),ei("animationsstart",S,function(G){xs.call(this,t,G)}),ei("animationsfinish",S,function(G){xs.call(this,t,G)}),ot(e,S),pi(),a()}const Mc=Vs(!1,e=>{xn(()=>{e(Rr)})}),$c=Vs(!1,e=>{xn(()=>{e(hn?.matches??!1);const t=({matches:n})=>{e(n)};return hn?.addEventListener("change",t),()=>{hn?.removeEventListener("change",t)}})});Ta([Mc,$c],([e,t])=>e&&!t);var Ec=zt('<path class="game-block-cell svelte-wmng36" stroke="white" fill="transparent"></path>'),Pc=zt('<rect class="game-block-cell svelte-wmng36" fill="white"></rect>'),Cc=zt('<path class="game-block-cell svelte-wmng36"></path>'),Ac=zt('<rect class="game-block-cell svelte-wmng36"></rect>'),Rc=zt('<rect class="game-block-cell svelte-wmng36" stroke-width="4" fill="transparent"></rect>'),Sc=zt('<path class="game-block-cell svelte-wmng36"></path>'),Tc=zt('<path class="game-block-cell svelte-wmng36"></path>'),Yc=$t('<div tabindex="-1" role="button"><svg class="game-block-svg svelte-wmng36"><defs class="svelte-wmng36"><mask maskUnits="userSpaceOnUse" x="0" y="0" class="svelte-wmng36"><g class="svelte-wmng36"><!><!></g></mask></defs><g class="svelte-wmng36"><g class="svelte-wmng36"><!><!><!><!><!></g><path stroke-linecap="round" stroke-linejoin="round" fill="transparent" class="svelte-wmng36"></path><path stroke-linecap="round" stroke-linejoin="round" fill="transparent" class="svelte-wmng36"></path></g></svg></div>'),Xc=$t('<span class="svelte-wmng36"> </span>'),Lc=$t('<div class="game-grid-cell svelte-wmng36"></div>'),Nc=$t('<div class="flex-hor svelte-wmng36"><button class="svelte-wmng36">View Results</button></div>'),jc=$t("<div><div><!></div></div>"),Bc=$t('<div class="block-selector-zone svelte-wmng36"><!></div>'),Dc=$t("<div><div><!></div></div>"),Ic=zt('<path class="game-block-cell svelte-wmng36"></path>'),Oc=zt('<rect class="game-block-cell svelte-wmng36"></rect>'),zc=zt('<path class="game-block-cell svelte-wmng36"></path>'),Gc=zt('<rect class="game-block-cell svelte-wmng36"></rect>'),Hc=$t('<div class="game-block-drop-preview svelte-wmng36"><svg class="svelte-wmng36"><defs class="svelte-wmng36"><mask maskUnits="userSpaceOnUse" x="0" y="0" class="svelte-wmng36"><!><!><!><!></mask></defs><g class="svelte-wmng36"><g class="svelte-wmng36"><rect class="block-fill-preview svelte-wmng36" mask="url(#block-mask-drop-preview)" x="0" y="0"></rect></g></g></svg></div>'),Fc=$t('<header class="svelte-wmng36"><div class="header-group header-group-left svelte-wmng36"></div> <h1 class="svelte-wmng36">Signals</h1> <div class="header-group header-group-right svelte-wmng36"><button class="icon-button svelte-wmng36"><i class="ti ti-help svelte-wmng36"></i></button></div></header> <main class="svelte-wmng36"><div class="game-wrapper svelte-wmng36"><div class="game-zone svelte-wmng36"><!> <div class="game-grid svelte-wmng36"><div class="game-actual-grid svelte-wmng36"></div> <!> <div></div> <div class="grid-wrapper-scale svelte-wmng36"><!> <div class="preview-mask-wrapper svelte-wmng36"><!></div> <svg class="path-overlay svelte-wmng36"><path stroke-width="10px" stroke="white" stroke-linecap="round" stroke-linejoin="round" fill="transparent" class="svelte-wmng36"></path></svg></div> <div class="round-count svelte-wmng36"><div class="round-count-center svelte-wmng36"><p class="svelte-wmng36">ROUND</p> <div><!></div></div></div></div></div></div></main> <div id="result-modal"><div class="modal-content svelte-wmng36"><div class="modal-inner svelte-wmng36"><h1 id="modal-title" class="svelte-wmng36">How to play</h1> <button class="close-button svelte-wmng36" aria-label="close"><i class="ti ti-x svelte-wmng36"></i></button> <h2 class="svelte-wmng36">Fill the grid with all the blocks to connect the signal.</h2> <h2 class="svelte-wmng36">Blocks cannot be rotated.</h2></div></div></div> <div id="result-modal"><div class="modal-content svelte-wmng36"><div class="modal-inner svelte-wmng36"><img width="80" alt="signals logo" class="svelte-wmng36"/> <h1 id="modal-title" class="svelte-wmng36">Good job!</h1> <h2 class="svelte-wmng36">You finished the <strong class="svelte-wmng36"> </strong> puzzle in <strong class="svelte-wmng36"> </strong></h2> <button class="close-button svelte-wmng36" aria-label="close"><i class="ti ti-x svelte-wmng36"></i></button> <div class="flex-hor svelte-wmng36"><button class="button-share svelte-wmng36">Play Another Difficulty</button></div> <div class="flex-hor svelte-wmng36"><button class="svelte-wmng36"><i class="ti ti-device-gamepad svelte-wmng36"></i>All Games</button> <button class="button-share svelte-wmng36"><i class="ti ti-share svelte-wmng36"></i> Share Results</button></div> <a href="https://forms.gle/cC1gkwQszo7L27Mm8" class="svelte-wmng36">Help us improve Signals! <u class="svelte-wmng36">Share your feedback.</u></a></div></div></div>',1);function Uc(e,t){mi(t,!0);const n=(g,h=qs)=>{const p=Zt(()=>de([...h().parts.map(at=>({x:h().truthPosition.x+at.x,y:h().truthPosition.y+at.y}))]));var w=Yc();let _;w.__pointerdown=at=>{ce(h(),at)},w.__pointermove=at=>{ze(at)},w.__pointerup=at=>{st(at)};let R;var y=O(w),P=O(y),C=O(P),Y=O(C),K=O(Y);xt(K,17,()=>h().cardinalTwoPairs,At,(at,J)=>{var H=Ec();dt(()=>{$(H,"d",`M ${(i(J).x1+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y1+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(J).x2+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y2+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2}`),$(H,"stroke-width",i(J).x1==i(J).x2?i(f)-i(Ct)*2:i(d)-i(Pt)*2)}),ot(at,H)});var V=F(K);xt(V,17,()=>h().parts,At,(at,J)=>{var H=Pc();dt(()=>{$(H,"rx",i(_t)),$(H,"ry",i(_t)),$(H,"x",(h().truthPosition.x+i(J).x-i(p).relative.minX)*i(f)+i(Ct)),$(H,"y",(h().truthPosition.y+i(J).y-i(p).relative.minY)*i(d)+i(Pt)),$(H,"width",i(f)-i(Ct)*2),$(H,"height",i(d)-i(Pt)*2)}),ot(at,H)}),I(Y),I(C),I(P);var W=F(P),lt=O(W),bt=O(lt);xt(bt,17,()=>h().cardinalTwoPairs,At,(at,J)=>{var H=Cc();dt(jt=>{$(H,"d",`M ${(i(J).x1+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y1+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(J).x2+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y2+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2}`),$(H,"stroke-width",i(J).x1==i(J).x2?i(f)-i(Ct)*2:i(d)-i(Pt)*2),$(H,"stroke",jt)},[()=>h().color.hex()]),ot(at,H)});var gt=F(bt);xt(gt,17,()=>h().parts,At,(at,J)=>{var H=Ac();dt(jt=>{$(H,"rx",i(_t)),$(H,"ry",i(_t)),$(H,"x",(h().truthPosition.x+i(J).x-i(p).relative.minX)*i(f)+i(Ct)),$(H,"y",(h().truthPosition.y+i(J).y-i(p).relative.minY)*i(d)+i(Pt)),$(H,"width",i(f)-i(Ct)*2),$(H,"height",i(d)-i(Pt)*2),$(H,"fill",jt)},[()=>h().color.hex()]),ot(at,H)});var ht=F(gt);xt(ht,17,()=>h().parts,At,(at,J)=>{var H=Rc();dt(jt=>{$(H,"rx",i(_t)-ie),$(H,"ry",i(_t)-ie),$(H,"x",(h().truthPosition.x+i(J).x-i(p).relative.minX)*i(f)+ie+i(Ct)),$(H,"y",(h().truthPosition.y+i(J).y-i(p).relative.minY)*i(d)+ie+i(Pt)),$(H,"width",i(f)-i(Ct)*2-ie*2),$(H,"height",i(d)-i(Pt)*2-ie*2),$(H,"stroke",jt)},[()=>h().color.brighten(.4).hex()]),ot(at,H)});var rt=F(ht);xt(rt,17,()=>h().cardinalTwoPairs,At,(at,J)=>{var H=Sc();dt(jt=>{$(H,"d",`M ${(i(J).x1+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y1+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(J).x2+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y2+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2}`),$(H,"stroke-width",(i(J).x1==i(J).x2?i(f)-i(Ct)*2:i(d)-i(Pt)*2)-(ie-2)*2),$(H,"stroke",jt)},[()=>h().color.brighten(.4).hex()]),ot(at,H)});var Jr=F(rt);xt(Jr,17,()=>h().cardinalTwoPairs,At,(at,J)=>{var H=Tc();dt(jt=>{$(H,"d",`M ${(i(J).x1+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y1+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(J).x2+h().truthPosition.x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(J).y2+h().truthPosition.y-i(p).relative.minY)*i(d)+i(d)/2}`),$(H,"stroke-width",(i(J).x1==i(J).x2?i(f)-i(Ct)*2:i(d)-i(Pt)*2)-(ie+2)*2),$(H,"stroke",jt)},[()=>h().color.hex()]),ot(at,H)}),I(lt);var Ye=F(lt),Xe=F(Ye);I(W),I(y),I(w),dt((at,J,H,jt,Qr)=>{_=Mt(w,1,"game-block svelte-wmng36",null,_,{"block-dragging":h().dragging,"game-block-locked":h().locked}),R=vt(w,"",R,at),$(y,"width",(i(p).absolute.maxX+1)*i(f)),$(y,"height",(i(p).absolute.maxY+1)*i(d)),$(y,"viewBox",`0 0 ${(i(p).absolute.maxX+1)*i(f)} ${(i(p).absolute.maxY+1)*i(d)}`),$(C,"id",`block-mask-${h().id}`),$(C,"width",(i(p).absolute.maxX+1)*i(f)),$(C,"height",(i(p).absolute.maxY+1)*i(d)),$(Ye,"mask",`url(#block-mask-${h().id})`),$(Ye,"d",J),$(Ye,"stroke-width",i(Ge)+8),$(Ye,"stroke",H),$(Xe,"mask",`url(#block-mask-${h().id})`),$(Xe,"d",jt),$(Xe,"stroke-width",i(Ge)),$(Xe,"stroke",Qr),$(Xe,"stroke-dashoffset",Ue.current)},[()=>({"animation-delay":h().animDelay,width:(i(p).absolute.maxX+1)*i(f)+"px",height:(i(p).absolute.maxY+1)*i(d)+"px","--shadow-color":h().color.darken(.5).hex(),"--sway-angle":h().dragging?`${i(Rt)*2}deg`:"0deg"}),()=>`M ${(i(B)[0].x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(B)[0].y-i(p).relative.minY)*i(d)+i(d)/2} `+i(B).map(at=>`L ${(at.x-i(p).relative.minX)*i(f)+i(f)/2} ${(at.y-i(p).relative.minY)*i(d)+i(d)/2} `).join(" "),()=>h().color.brighten(1.2).hex(),()=>`M ${(i(B)[0].x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(B)[0].y-i(p).relative.minY)*i(d)+i(d)/2} `+i(B).map(at=>`L ${(at.x-i(p).relative.minX)*i(f)+i(f)/2} ${(at.y-i(p).relative.minY)*i(d)+i(d)/2} `).join(" "),()=>h().color.darken(1.8).hex()]),ot(g,w)};let s=Z(!1),r,a=Z(!1),o=Z(0),c=yt(t,"anotherDifficulty",3,()=>{}),l=Z(6),u=Z(6),m=Z(400),f=Zt(()=>Math.ceil(i(m)/i(l))),d=Zt(()=>i(f)),x=Wt({x:0,y:0}),A=Wt({x:i(l)-1,y:i(u)-1}),X=Z(0),b=Z(!1),k=2,it=Z(Wt([])),tt=[],B=Z(Wt([{x:-10,y:-10}])),et={easy:[{gridX:6,gridY:6,waypoints:2,rdx:3},{gridX:6,gridY:5,waypoints:2,rdx:2},{gridX:6,gridY:6,waypoints:3,rdx:1}],medium:[{gridX:7,gridY:7,waypoints:6,rdx:4},{gridX:7,gridY:7,waypoints:7,rdx:6},{gridX:8,gridY:8,waypoints:8,rdx:3},{gridX:8,gridY:7,waypoints:7,rdx:2},{gridX:8,gridY:7,waypoints:6,rdx:1}],hard:[{gridX:9,gridY:8,waypoints:8,rdx:8},{gridX:9,gridY:9,waypoints:10,rdx:7},{gridX:9,gridY:8,waypoints:10,rdx:6}],infinite:[{gridX:6,gridY:6,waypoints:2,rdx:3},{gridX:6,gridY:5,waypoints:2,rdx:2},{gridX:6,gridY:6,waypoints:3,rdx:1},{gridX:7,gridY:7,waypoints:6,rdx:4},{gridX:7,gridY:7,waypoints:7,rdx:6},{gridX:8,gridY:8,waypoints:8,rdx:3},{gridX:8,gridY:7,waypoints:7,rdx:2},{gridX:8,gridY:7,waypoints:6,rdx:1},{gridX:9,gridY:8,waypoints:8,rdx:8},{gridX:9,gridY:9,waypoints:10,rdx:7},{gridX:9,gridY:8,waypoints:10,rdx:6}]},j=Z(Wt([])),L=Z(null);xn(async()=>{r=new ec(null,null),T(t.difficulty),window.initGame=T,window.gameCompleteEffect=Li,window.infinite=Ni,E(a,typeof window.webkitConvertPointFromNodeToPage=="function"||"webkitRequestAnimationFrame"in window,!0)});function v(){!i(Tt)&&!i(Ut)&&E(o,i(o)+1),!i(Ut)&&setTimeout(()=>{v()},1e3)}async function T(g){g=="infinite"&&r.initRNG(Math.random().toString(36).substr(2,9));let h=r.randomArrayElement(et[g]);E(qe,!1),E(l,h.gridX,!0),E(u,h.gridY,!0),k=h.waypoints;for(let w=0;w<h.rdx;w++)r.randomFloat();window.DTGCore=r;for(let w=0;w<i(l);w++)be[w]=new Array(i(u)).fill(!1);for(let w=0;w<i(l);w++)$n[w]=new Array(i(u)).fill(!1);D(),z(),await Gt(),An(),await Gt(),Rn(),E(b,!0);let p=Nr("signals-today-"+t.difficulty);p!=null&&p.date==Pn&&(t.difficulty=="infinite"?(E(ct,p.infiniteGamesPlayed,!0),console.log(p)):(console.log(p),p.blocks.forEach(w=>{let _=i(j).findIndex(R=>R.id==w.id);w.placed&&En(i(j)[_],w.position,!0)}),E(o,p.timeElapsed,!0),E(Ut,p.over,!0)))}function S(){return r.randomFloat().toString(36).substr(2,9)}function D(){x.x=Math.floor(r.randomFloat()*(i(l)*.3)),x.y=Math.floor(r.randomFloat()*(i(u)*.3)),A.x=Math.floor(r.randomFloat()*(i(l)*.3))+Math.floor(i(l)*.7),A.y=Math.floor(r.randomFloat()*(i(u)*.3))+Math.floor(i(u)*.7),E(it,[],!0),tt=[];for(let y=0;y<i(l);y++)for(let P=0;P<i(u);P++)tt.push({x:y,y:P});let g=[...tt];g.splice(g.findIndex(y=>y.x===x.x&&y.y===x.y),1),g.splice(g.findIndex(y=>y.x===A.x&&y.y===A.y),1);for(let y=0;y<i(l);y++){let P=g.findIndex(Y=>Y.x==y&&Y.y==0);P!=-1&&g.splice(P,1);let C=g.findIndex(Y=>Y.x==y&&Y.y==i(u)-1);C!=-1&&g.splice(C,1)}for(let y=0;y<i(u);y++){let P=g.findIndex(Y=>Y.x==0&&Y.y==y);P!=-1&&g.splice(P,1);let C=g.findIndex(Y=>Y.x==i(l)-1&&Y.y==y);C!=-1&&g.splice(C,1)}for(let y=0;y<k;y++){let P=Math.floor(r.randomFloat()*g.length);i(it).push(g[P]),g.splice(P,1)}let h={...x};E(B,[x],!0);let p=[x],w=[...i(it)];w.sort((y,P)=>Math.sqrt(Math.pow(y.x,2)+Math.pow(y.y,2))-Math.sqrt(Math.pow(P.x,2)+Math.pow(P.y,2))),w.push({...A});let _;function R(y){let P=[{x:0,y:-1},{x:0,y:1},{x:1,y:0},{x:-1,y:0}],C=[];for(let Y=0;Y<P.length;Y++){let K=P[Y],V={x:y.x+K.x,y:y.y+K.y};V.x<0||V.y<0||V.x>=i(l)||V.y>=i(u)||p.findIndex(lt=>lt.x==V.x&&lt.y==V.y)!=-1||C.push(K)}return C}for(let y=0;y<w.length;y++){_=w[y];for(let P=0;P<i(l)*i(u);P++){let C=R(h),Y={x:0,y:0},K=1/0;C.forEach(W=>{let lt=Math.sqrt(Math.pow(h.x+W.x-_.x,2)+Math.pow(h.y+W.y-_.y,2));lt<K&&(K=lt,Y=W)});let V={x:h.x+Y.x,y:h.y+Y.y};if(h.x+=Y.x,h.y+=Y.y,i(B).push({...h}),p.push({...h}),V.x==_.x&&V.y==_.y)break;if(V.x==A.x&&V.y==A.y)return!0}}if(i(B).findIndex(y=>y.x==A.x&&y.y==A.y)==-1){let y=i(B)[i(B).length-1];A.x=y.x,A.y=y.y}return i(B).findIndex(y=>y.x==A.x&&y.y==A.y)!=-1}let G={precision:.1};function z(){E(j,[],!0);let g=[{x:0,y:0},{x:0,y:i(u)-1},{x:i(l)-1,y:i(u)-1},{x:i(l)-1,y:0}];E(X,Math.ceil(i(l)*i(u)/4),!0);let h=jr(i(X),{hueStep:15,hueJitter:12,lightRange:[.35,.8],satRange:[.5,.8]});i(j).push({position:{x:0,y:0},truthPosition:{x:0,y:0},parts:[],color:h[0],signalPath:[],dragging:!1,cardinalTwoPairs:[],id:S(),placed:!1,animDelay:`${Math.random()*4}s`,locked:!1,blockHome:null,blockEl:null,isCurrentlyAnimating:!1,cssPosition:new Yt({x:0,y:0},G)}),i(j).push({position:{x:0,y:i(u)-1},truthPosition:{x:0,y:i(u)-1},parts:[],color:h[1],signalPath:[],dragging:!1,animDelay:`${Math.random()*4}s`,cardinalTwoPairs:[],id:S(),placed:!1,isCurrentlyAnimating:!1,locked:!1,blockHome:null,blockEl:null,cssPosition:new Yt({x:0,y:0},G)}),i(j).push({position:{x:i(l)-1,y:i(u)-1},truthPosition:{x:i(l)-1,y:i(u)-1},parts:[],color:h[2],signalPath:[],cardinalTwoPairs:[],id:S(),dragging:!1,placed:!1,animDelay:`${Math.random()*4}s`,locked:!1,blockEl:null,isCurrentlyAnimating:!1,blockHome:null,cssPosition:new Yt({x:0,y:0},G)}),i(j).push({position:{x:i(l)-1,y:0},truthPosition:{x:i(l)-1,y:0},parts:[],dragging:!1,color:h[3],signalPath:[],cardinalTwoPairs:[],isCurrentlyAnimating:!1,id:S(),animDelay:`${Math.random()*4}s`,placed:!1,blockEl:null,locked:!1,blockHome:null,cssPosition:new Yt({x:0,y:0},G)});let p=[...tt];i(j).forEach(_=>{let R=_.position;for(let y=-1;y<=1;y++)for(let P=-1;P<=1;P++){let C=p.findIndex(Y=>R.x+y==Y.x&&R.y+P==Y.y);C!=-1&&p.splice(C,1)}});for(let _=0;_<i(X)-4;_++){let R=p[Math.floor(r.randomFloat()*p.length)];for(let y=-1;y<=1;y++)for(let P=-1;P<=1;P++){let C=p.findIndex(Y=>R.x+y==Y.x&&R.y+P==Y.y);C!=-1&&p.splice(C,1)}R!=null&&(i(j).push({position:{...R},truthPosition:{...R},parts:[],color:h[_+4],signalPath:[],cardinalTwoPairs:[],id:S(),placed:!1,dragging:!1,animDelay:`${Math.random()*4}s`,locked:!1,blockHome:null,blockEl:null,isCurrentlyAnimating:!1,cssPosition:new Yt({x:0,y:0},G)}),g.push({...R}))}function w(_){let R=[{x:0,y:-1},{x:0,y:1},{x:1,y:0},{x:-1,y:0}],y=[];for(let P=0;P<R.length;P++){let C=R[P],Y={x:_.x+C.x,y:_.y+C.y};Y.x<0||Y.y<0||Y.x>=i(l)||Y.y>=i(u)||g.findIndex(V=>V.x==Y.x&&V.y==Y.y)!=-1||y.push(C)}return y}for(let _=0;_<10;_++){let R=new Array(i(j).length);for(let y=0;y<i(j).length;y++)R[y]=y;for(let y=0;y<i(j).length;y++){let P=Math.floor(r.randomFloat()*R.length),C=i(j)[R[P]];R.splice(P,1);let Y=w(C.position),K=[];if(Y.forEach(W=>{K.push({x:C.position.x+W.x,y:C.position.y+W.y})}),C.parts.forEach(W=>{w({x:C.position.x+W.x,y:C.position.y+W.y}).forEach(bt=>{K.push({x:C.position.x+W.x+bt.x,y:C.position.y+W.y+bt.y})})}),K.length==0)continue;let V=K[Math.floor(r.randomFloat()*K.length)];C.parts.push({x:V.x-C.position.x,y:V.y-C.position.y}),g.push({...V})}}i(j).forEach(_=>{_.parts.push({x:0,y:0})}),i(j).forEach(_=>{let R=de(_.parts);_.parts.forEach(y=>{y.x-=R.relative.minX,y.y-=R.relative.minY}),_.position.x+=R.relative.minX,_.position.y+=R.relative.minY,_.truthPosition.x+=R.relative.minX,_.truthPosition.y+=R.relative.minY}),i(j).forEach(_=>{let R=[],y=[..._.parts];y.forEach(P=>{[{x:0,y:-1},{x:0,y:1},{x:1,y:0},{x:-1,y:0}].forEach(Y=>{let K=y.find(V=>V.x==P.x+Y.x&&V.y==P.y+Y.y);K&&R.push({x1:P.x,y1:P.y,x2:K.x,y2:K.y})})}),_.cardinalTwoPairs=R}),i(j).forEach(_=>{let R=[];i(B).forEach(y=>{let P=y.x-_.position.x,C=y.y-_.position.y;P==0&&C==0&&R.push({x:P,y:C}),_.parts.forEach(Y=>{P==Y.x&&C==Y.y&&R.push({x:P,y:C})})}),_.signalPath=R}),i(j).forEach(_=>{_.parts.forEach(R=>{let y={x:R.x+_.position.x,y:R.y+_.position.y};(y.x==x.x&&y.y==x.y||y.x==A.x&&y.y==A.y)&&(_.locked=!0,En(_,_.position,!0))})}),console.log(ws(i(j)))}let ct=Z(0),N,Nt={x:0},Rt=Z(0),St=Z(!1);function ce(g,h){if(h.preventDefault(),h.stopPropagation(),E(Rt,0),!!g&&!g.locked&&!i(St)){if(N=g,E(St,!0),h.target.setPointerCapture(h.pointerId),i(L)&&(i(L).style.overflowX="hidden"),N!=null&&!N.locked&&!N.placed&&N.blockHome!=null&&i(Et)!=null&&N.blockEl!=null){let p=N.blockHome.getBoundingClientRect(),w=N.blockEl.getBoundingClientRect(),_=i(Et).getBoundingClientRect();N.cssPosition.set({x:p.left-_.left+p.width/2-w.width/2,y:p.top-_.top+p.height/2-w.height/2},{instant:!0})}N.isCurrentlyAnimating=!0,Nt={x:h.clientX,y:h.clientY};for(let p=0;p<i(l);p++)for(let w=0;w<i(u);w++)be[p][w]=!1;N.dragging=!0,i(j).forEach(p=>{p.placed&&p!=N&&p.parts.forEach(w=>{be[p.position.x+w.x][p.position.y+w.y]=!0})})}}function ze(g){if(!i(St)||(g.preventDefault(),!g.target.hasPointerCapture(g.pointerId)||i(Et)==null||N==null||N.blockEl==null))return;E(Ft,!0),N.cssPosition.current;let h=N.blockEl.getBoundingClientRect(),p=i(Et).getBoundingClientRect();N.cssPosition.set({x:g.clientX-p.left-h.width/2,y:g.clientY-p.top-h.height/2}),N.isCurrentlyAnimating=!0;let w=Math.sign(g.clientX-Nt.x);E(Rt,Math.min(Math.abs(g.clientX-Nt.x),26)*w),Nt={x:g.clientX,y:g.clientY};for(let C=0;C<i(l);C++)for(let Y=0;Y<i(u);Y++)$n[C][Y]=!1;let _=g.clientX-p.left,R=g.clientY-p.top,y=de(N.parts);_-=y.absolute.maxX*i(f)/2,R-=y.absolute.maxY*i(f)/2,_/=i(f),R/=i(d),_=Math.floor(_),R=Math.floor(R);let P=Ri(N,{x:_,y:R});E(ft,{x:_,y:R},!0),E(fe,!P),N.parts.forEach(C=>{_+C.x>=0&&_+C.y>=0&&_+C.x<i(l)&&R+C.y<i(u)&&($n[_+C.x][R+C.y]=!0)})}let fe=Z(!1),ft=Z(Wt({x:0,y:0})),Ft=Z(!1);function st(g){if(!i(St))return;if(E(St,!1),E(Rt,0),E(Ft,!1),g.preventDefault(),g.target.releasePointerCapture(g.pointerId),i(L)&&(i(L).style.overflowX="auto"),N!=null&&!N.locked&&!N.placed&&N.blockHome!=null&&i(Et)!=null&&N.blockEl!=null){let y=N.blockHome.getBoundingClientRect(),P=N.blockEl.getBoundingClientRect(),C=i(Et).getBoundingClientRect();N.cssPosition.set({x:y.left-C.left+y.width/2-P.width/2,y:y.top-C.top+y.height/2-P.height/2})}if(N==null||(N.dragging=!1,i(Et)==null))return;let h=i(Et).getBoundingClientRect(),p=g.clientX-h.left,w=g.clientY-h.top,_=de(N.parts);if(p-=_.absolute.maxX*i(f)/2,w-=_.absolute.maxY*i(f)/2,p/=i(f),w/=i(d),p=Math.floor(p),w=Math.floor(w),Ri(N,{x:p,y:w}))En(N,{x:p,y:w});else if(N.placed=!1,!N.locked&&!N.placed&&N.blockHome!=null&&i(Et)!=null&&N.blockEl!=null){let y=N.blockHome.getBoundingClientRect(),P=N.blockEl.getBoundingClientRect(),C=i(Et).getBoundingClientRect();N.placed=!1,ut(N,{x:y.left-C.left+y.width/2-P.width/2,y:y.top-C.top+y.height/2-P.height/2})}N=null}async function ut(g,h){g.cssPosition.set(h).then(()=>{g.isCurrentlyAnimating=!1,console.log("aaaasdfasdf")})}let Tt=Z(!1),Ut=Z(!1);function Lr(){if(console.log("asdfasdfasdfasdfasdfasdf"),i(Ut)){Xi();return}let g=localStorage.getItem("firstTimePlayed")==null;console.log(g),g&&(localStorage.setItem("firstTimePlayed","true"),E(Tt,!0)),t.difficulty!="infinite"&&v()}let be=Wt(new Array(i(l))),$n=Wt(new Array(i(l)));function Ri(g,h){for(let p=0;p<g.parts.length;p++){let w=g.parts[p];if(h.x+w.x<0||h.y+w.y<0||h.x+w.x>=i(l)||h.y+w.y>=i(u)||be[h.x+w.x][h.y+w.y])return!1}return!0}function En(g,h,p=!1){g.placed=!0,g.position={...h},g.cssPosition.set({x:h.x*i(f),y:h.y*i(d)},{instant:p});for(let w=0;w<i(l);w++)for(let _=0;_<i(u);_++)be[w][_]=!1;i(j).forEach(w=>{w.placed&&w.parts.forEach(_=>{be[w.position.x+_.x][w.position.y+_.y]=!0})}),!p&&(console.log(Yi()),Yi()&&Xi(),Cn())}function Si(){i(j).forEach(g=>{g.placed&&g.cssPosition.set({x:g.position.x*i(f),y:g.position.y*i(d)},{instant:!0})})}let Pn=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date);function Cn(){if(t.difficulty!="infinite"){let g=[];i(j).forEach(p=>{g.push({position:ws(p.position),id:p.id,placed:p.placed})});let h={over:i(Ut),date:Pn,blocks:g,timeElapsed:i(o)};Ti("signals-today-"+t.difficulty,h),console.log("Game Progress Saved")}else{let g={infiniteGamesPlayed:i(ct),date:Pn};Ti("signals-today-"+t.difficulty,g),console.log("Game Progress Saved")}}function Ti(g,h){localStorage.setItem(g,JSON.stringify(h)),console.log("Saved data.")}function Nr(g){let h=localStorage.getItem(g);return h!=null?JSON.parse(h):null}let Et=Z(null);function An(){i(j).forEach(g=>{if(!g.locked&&!g.placed&&g.blockHome!=null&&i(Et)!=null&&g.blockEl!=null){let h=g.blockHome.getBoundingClientRect(),p=g.blockEl.getBoundingClientRect(),w=i(Et).getBoundingClientRect();g.cssPosition.set({x:h.left-w.left+h.width/2-p.width/2,y:h.top-w.top+h.height/2-p.height/2},{instant:!0})}})}function de(g){let h=1/0,p=-1/0,w=1/0,_=-1/0;return g.forEach(R=>{R.x<h&&(h=R.x),R.x>p&&(p=R.x),R.y<w&&(w=R.y),R.y>_&&(_=R.y)}),{relative:{minX:h,maxX:p,minY:w,maxY:_},absolute:{minX:0,maxX:p-h,minY:0,maxY:_-w}}}function jr(g,{satRange:h=[.5,.85],lightRange:p=[.35,.75],hueJitter:w=8,hueStep:_=360/g,satJitter:R=.05,lightJitter:y=.05,sortByLightness:P=!1}={}){const C=(W,lt,bt)=>Math.max(lt,Math.min(bt,W)),Y=(W,lt)=>W+r.randomFloat()*(lt-W),K=Y(0,360),V=[];for(let W=0;W<g;W++){const lt=(K+W*_+Y(-w,w)+360)%360,bt=C(Y(h[0],h[1])+Y(-R,R),0,1),gt=C(Y(p[0],p[1])+Y(-y,y),0,1);V.push(nt.hsl(lt,bt,gt))}return P&&V.sort((W,lt)=>W.luminance()-lt.luminance()),V}function Yi(){let g=!0;return i(j).forEach(h=>{h.placed||(g=!1),h.signalPath.length>0&&(h.truthPosition.x!=h.position.x||h.truthPosition.y!=h.position.y)&&(g=!1)}),g}let ie=4,_t=Z(12),Re=0,ue=4,Pt=Z(7),Ct=Z(2),Ge=Z(16);async function Rn(g=!1){if(window.innerWidth<=500){if(i(m)==300&&!g)return;E(m,300),E(Pt,6),E(Ct,1),await Gt(),await Gt(),await Gt(),await Gt(),An(),Si(),E(Ge,12),E(_t,8)}else if(window.innerWidth>500){if(i(m)==400&&!g)return;E(m,400),E(Pt,7),E(Ct,2),await Gt(),await Gt(),await Gt(),await Gt(),An(),Si(),E(Ge,16),E(_t,12)}i(Ut)&&(E(_t,6),E(Pt,0),E(Ct,0))}let Se=Z(!1),Sn=new Yt(1,{stiffness:.15,damping:.22,precision:1e-4}),He=new Yt(1,{stiffness:.08,damping:.35,precision:.01}),Fe=new Yt(0,{stiffness:.06,damping:.35,precision:.01}),he=Z(null),Ue=new $i(0,{duration:1600,easing:ic}),qe=Z(!1);function Xi(){E(Ut,!0),Li(),Cn()}function Li(){E(qe,!0),setTimeout(()=>{if(i(he)==null)return;let g=i(he)?.getTotalLength();i(he).style.opacity="1",i(he).style.strokeDasharray=`${g}`,Ue.set(g,{duration:0}),setTimeout(()=>{Ue.set(0)},10),setTimeout(()=>{E(_t,6),E(Se,!0),E(Pt,0),E(Ct,0),Sn.set(1.1),setTimeout(()=>{Sn.set(1,{preserveMomentum:1}),t.difficulty=="infinite"&&setTimeout(()=>{Ni()},1e3),t.difficulty!="infinite"&&setTimeout(()=>{E(s,!0)},1e3)},100)},2e3)},1e3)}let ve=new Yt(0,{stiffness:.08,damping:.2,precision:.01}),ye=new Yt(0,{stiffness:.06,damping:.18,precision:.01}),Ve=Z(!1),We=Z(!1);function Ni(){He.set(0),Fe.set(90),ve.set(0,{instant:!0}),ye.set(Math.random()*35+(Math.random()>.5?-1:1)*45,{instant:!0}),setTimeout(()=>{E(Ve,!0),ve.set(1),ye.set(0),setTimeout(()=>{E(ct,i(ct)+1),(i(ct)+1)%10==0&&E(We,!0),ve.set(1.2),ye.set(Math.random()*10),setTimeout(()=>{ve.set(1),ye.set(0)},100),setTimeout(()=>{ve.set(0),ye.set(Math.random()*35+(Math.random()>.5?-1:1)*45),E(qe,!1),E(Ut,!1),E(Se,!1),i(he).style.opacity="0",T("infinite"),Rn(!0),Cn(),setTimeout(()=>{E(Ve,!1),He.set(1),Fe.set(0),E(We,!1)},400)},i(We)?1700:1200)},600)},500)}const Br=function(){let g=!1;return(function(h){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(g=!0)})(navigator.userAgent||navigator.vendor),g};let ji=`{0}
I completed today's {1} Signals puzzle in {2} 
{3}`;function Dr(){let g=new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date);Br()?navigator.share({text:r.formatString(ji,g,t.difficulty,`${Math.floor(i(o)/60)}:${i(o)%60<10?"0"+i(o)%60:i(o)%60}`,window.location.href),url:window.location.href}):(r.showToast("Results copied to clipboard!","ti-clipboard"),r.copyToClipboard(r.formatString(ji,g,t.difficulty,`${Math.floor(i(o)/60)}:${i(o)%60<10?"0"+i(o)%60:i(o)%60}`,window.location.href)))}var Ir={playGame:Lr},Bi=Fc();ei("resize",Ea,()=>Rn(!1));var Tn=je(Bi),Di=F(O(Tn),4),Or=O(Di);Or.__click=()=>{E(Tt,!0)},I(Di),I(Tn);var Yn=F(Tn,2),Ii=O(Yn),Oi=O(Ii),zi=O(Oi);{var zr=g=>{var h=Xc();let p;var w=O(h);I(h),dt(()=>{p=vt(h,"",p,{"margin-bottom":"10px",transition:"opacity 0.2s",opacity:i(Ve)?0:1}),Ie(w,`Round ${i(ct)+1}`)}),ot(g,h)};Qt(zi,g=>{t.difficulty=="infinite"&&g(zr)})}var Ze=F(zi,2);let Gi;var Ke=O(Ze);let Hi;xt(Ke,21,()=>Array(i(u)),At,(g,h,p)=>{var w=In(),_=je(w);xt(_,17,()=>Array(i(l)),At,(R,y,P,C)=>{var Y=In(),K=je(Y);Ws(K,()=>i(j),V=>{var W=Lc();let lt;dt(()=>lt=vt(W,"",lt,{"grid-column":P+1,"grid-row":p+1,width:`${i(f)??""}px`,height:`${i(d)??""}px`,"border-radius":`${i(_t)}px`})),ot(V,W)}),ot(R,Y)}),ot(g,w)}),I(Ke);var Fi=F(Ke,2);{var Gr=g=>{var h=Nc();vt(h,"",{},{"margin-top":"20px"});var p=O(h);p.__click=()=>{E(s,!0)},I(h),ot(g,h)};Qt(Fi,g=>{i(Se)&&t.difficulty!="infinite"&&g(Gr)})}var Te=F(Fi,2);let Ui;xt(Te,23,()=>i(j),g=>g.id,(g,h,p)=>{const w=Zt(()=>de([...i(h).parts.map(P=>({x:i(h).truthPosition.x+P.x,y:i(h).truthPosition.y+P.y}))]));var _=In(),R=je(_);{var y=P=>{var C=Bc();vt(C,"",{},{"pointer-events":"none"});var Y=O(C);{var K=V=>{var W=jc();Mt(W,1,"game-block-transform-wrapper svelte-wmng36",null,{},{"game-block-selectable":!0});let lt;var bt=O(W);let gt;var ht=O(bt);n(ht,()=>i(h)),I(bt),I(W),dt(rt=>{lt=vt(W,"",lt,rt),gt=Mt(bt,1,"svelte-wmng36",null,gt,{"game-block-shadow-wrapper":!i(a)})},[()=>({opacity:i(h).dragging||i(h).isCurrentlyAnimating?"0":"1",width:(i(w).absolute.maxX+1)*i(f)+"px",height:(i(w).absolute.maxY+1)*i(d)+"px",top:"50%","--block-position-x":"-50%","--block-position-y":"-50%",left:"50%","--shadow-color":i(h).color.darken(.5).hex()})]),ot(V,W)};Qt(Y,V=>{i(h).placed||V(K)})}I(C),pe(C,(V,W)=>i(j)[W].blockHome=V,V=>i(j)?.[V]?.blockHome,()=>[i(p)]),ot(P,C)};Qt(R,P=>{i(h).locked||P(y)})}ot(g,_)}),I(Te),pe(Te,g=>E(L,g),()=>i(L));var Je=F(Te,2);let qi;var Vi=O(Je);xt(Vi,17,()=>i(j),At,(g,h,p)=>{const w=Zt(()=>de([...i(h).parts.map(K=>({x:i(h).truthPosition.x+K.x,y:i(h).truthPosition.y+K.y}))]));var _=Dc();let R,y;var P=O(_);let C;var Y=O(P);n(Y,()=>i(h)),I(P),I(_),pe(_,(K,V)=>V.blockEl=K,K=>K?.blockEl,()=>[i(h)]),dt(K=>{R=Mt(_,1,"game-block-transform-wrapper svelte-wmng36",null,R,{"ignore-all-events":!i(h).placed||i(qe),"game-complete-block":i(Se),"game-block-selectable":!i(h).placed}),y=vt(_,"",y,K),C=Mt(P,1,"svelte-wmng36",null,C,{"game-block-shadow-wrapper":!i(a)})},[()=>({opacity:i(h).dragging||i(h).placed||i(h).isCurrentlyAnimating?"1":"0",width:(i(w).absolute.maxX+1)*i(f)+"px",height:(i(w).absolute.maxY+1)*i(d)+"px",top:"0px","--block-position-x":i(h).cssPosition.current.x+"px","--block-position-y":i(h).cssPosition.current.y+"px",left:"0px","--shadow-color":i(h).color.darken(.5).hex()})]),ot(g,_)});var Qe=F(Vi,2);let Wi;var Hr=O(Qe);{var Fr=g=>{const h=Zt(()=>N),p=Zt(()=>de([...i(h).parts.map(gt=>({x:i(ft).x+gt.x,y:i(ft).y+gt.y}))]));var w=Hc();let _;var R=O(w),y=O(R),P=O(y);$(P,"id","block-mask-drop-preview");var C=O(P);xt(C,17,()=>i(h).cardinalTwoPairs,At,(gt,ht)=>{var rt=Ic();$(rt,"stroke","white"),dt(()=>{$(rt,"d",`M ${(i(ht).x1+i(ft).x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(ht).y1+i(ft).y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(ht).x2+i(ft).x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(ht).y2+i(ft).y-i(p).relative.minY)*i(d)+i(d)/2}`),$(rt,"stroke-width",i(f)-Re*2)}),ot(gt,rt)});var Y=F(C);xt(Y,17,()=>i(h).parts,At,(gt,ht)=>{var rt=Oc();$(rt,"fill","white"),dt(()=>{$(rt,"rx",i(_t)),$(rt,"ry",i(_t)),$(rt,"x",(i(ft).x+i(ht).x-i(p).relative.minX)*i(f)+Re),$(rt,"y",(i(ft).y+i(ht).y-i(p).relative.minY)*i(d)+Re),$(rt,"width",i(f)-Re*2),$(rt,"height",i(d)-Re*2)}),ot(gt,rt)});var K=F(Y);xt(K,17,()=>i(h).cardinalTwoPairs,At,(gt,ht)=>{var rt=zc();$(rt,"stroke","#333"),dt(()=>{$(rt,"d",`M ${(i(ht).x1+i(ft).x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(ht).y1+i(ft).y-i(p).relative.minY)*i(d)+i(d)/2} L ${(i(ht).x2+i(ft).x-i(p).relative.minX)*i(f)+i(f)/2} ${(i(ht).y2+i(ft).y-i(p).relative.minY)*i(d)+i(d)/2}`),$(rt,"stroke-width",i(f)-ue*2)}),ot(gt,rt)});var V=F(K);xt(V,17,()=>i(h).parts,At,(gt,ht)=>{var rt=Gc();$(rt,"fill","#333"),dt(()=>{$(rt,"rx",i(_t)-ue),$(rt,"ry",i(_t)-ue),$(rt,"x",(i(ft).x+i(ht).x-i(p).relative.minX)*i(f)+ue),$(rt,"y",(i(ft).y+i(ht).y-i(p).relative.minY)*i(d)+ue),$(rt,"width",i(f)-ue*2),$(rt,"height",i(d)-ue*2)}),ot(gt,rt)}),I(P),I(y);var W=F(y),lt=O(W),bt=O(lt);I(lt),I(W),I(R),I(w),dt(()=>{_=vt(w,"",_,{width:(i(p).absolute.maxX+1)*i(f)+"px",height:(i(p).absolute.maxY+1)*i(d)+"px",top:"0px","--block-position-x":i(ft).x*i(f)+30+"px","--block-position-y":i(ft).y*i(d)+30+"px",left:"0px"}),$(R,"width",(i(p).absolute.maxX+1)*i(f)),$(R,"height",(i(p).absolute.maxY+1)*i(d)),$(R,"viewBox",`0 0 ${(i(p).absolute.maxX+1)*i(f)} ${(i(p).absolute.maxY+1)*i(d)}`),$(P,"width",(i(p).absolute.maxX+1)*i(f)),$(P,"height",(i(p).absolute.maxY+1)*i(d)),$(bt,"width",(i(p).absolute.maxX+1)*i(f)),$(bt,"height",(i(p).absolute.maxY+1)*i(d)),$(bt,"fill",i(fe)?"var(--error)":"var(--success)")}),ot(g,w)};Qt(Hr,g=>{i(Ft)&&N!=null&&g(Fr)})}I(Qe);var tn=F(Qe,2);let Zi;var Xn=O(tn);pe(Xn,g=>E(he,g),()=>i(he)),I(tn),I(Je);var Ln=F(Je,2);let Ki;var Ji=O(Ln),Nn=F(O(Ji),2);let Qi;var Ur=O(Nn);{let g=Zt(()=>i(ct)+1);kc(Ur,{get value(){return i(g)}})}I(Nn),I(Ji),I(Ln),I(Ze),pe(Ze,g=>E(Et,g),()=>i(Et)),I(Oi),I(Ii),I(Yn);var en=F(Yn,2);let ts;var es=O(en),ns=O(es),is=F(O(ns),2);is.__click=()=>{E(Tt,!1)};var ss=F(is,2);vt(ss,"",{},{"font-weight":"normal"});var qr=F(ss,2);vt(qr,"",{},{"font-weight":"normal"}),I(ns),I(es),I(en);var jn=F(en,2);let rs;var as=O(jn),os=O(as),ls=O(os),nn=F(ls,4);vt(nn,"",{},{"font-weight":"normal"});var Bn=F(O(nn)),Vr=O(Bn,!0);I(Bn);var cs=F(Bn,2),Wr=O(cs);I(cs),I(nn);var fs=F(nn,2);fs.__click=()=>{E(s,!1)};var Dn=F(fs,2),Zr=O(Dn);Zr.__click=function(...g){c()?.apply(this,g)},I(Dn);var ds=F(Dn,2),us=O(ds);us.__click=()=>{r.homeRedirect()};var Kr=F(us,2);return Kr.__click=Dr,I(ds),Be(2),I(os),I(as),I(jn),dt((g,h,p,w,_)=>{Gi=vt(Ze,"",Gi,{width:`${i(f)*i(l)}px`}),Hi=vt(Ke,"",Hi,g),Ui=Mt(Te,1,"game-block-selectors svelte-wmng36",null,Ui,{"selectors-hidden":i(Ut)}),qi=vt(Je,"",qi,h),Wi=vt(Qe,"",Wi,{width:60+i(l)*i(f)+"px",height:60+i(u)*i(d)+"px"}),$(tn,"viewBox",`0 0 ${i(f)*i(l)} ${i(d)*i(u)}`),Zi=vt(tn,"",Zi,{transform:`translateY(-${i(Se)?0:5}px)`}),$(Xn,"d",p),$(Xn,"stroke-dashoffset",Ue.current),Ki=vt(Ln,"",Ki,w),Qi=Mt(Nn,1,"round-number svelte-wmng36",null,Qi,{"rainbow-rotate":i(We)}),ts=Mt(en,1,"modal-wrapper svelte-wmng36",null,ts,{"modal-visible":i(Tt)}),rs=Mt(jn,1,"modal-wrapper svelte-wmng36",null,rs,{"modal-visible":i(s)}),$(ls,"src",Js),Ie(Vr,t.difficulty),Ie(Wr,`${_??""}:${i(o)%60<10?"0"+i(o)%60:i(o)%60}.`)},[()=>({transform:`scale(${Math.max(He.current,0)}) rotate(${Fe.current}deg)`}),()=>({transform:`scale(${Sn.current*Math.max(He.current,0)}) rotate(${Fe.current}deg)`,width:`${i(f)*i(l)}px`,height:`${i(d)*i(u)}px`}),()=>`M ${i(B)[0].x*i(f)+i(f)/2} ${i(B)[0].y*i(d)+i(d)/2} `+i(B).map(g=>`L ${g.x*i(f)+i(f)/2} ${g.y*i(d)+i(d)/2} `).join(" "),()=>({transform:`scale(${Math.max(ve.current,0)}) rotate(${ye.current}deg)`,width:`${i(f)*i(l)}px`,height:`${i(d)*i(u)}px`,opacity:i(Ve)?"1":"0"}),()=>Math.floor(i(o)/60)]),ot(e,Bi),pi(Ir)}Ds(["pointerdown","pointermove","pointerup","click"]);var qc=$t('<i class="ti ti-check svelte-1uha8ag"></i>'),Vc=$t('<i class="ti ti-check svelte-1uha8ag"></i>'),Wc=$t('<i class="ti ti-check svelte-1uha8ag"></i>'),Zc=$t("<button>Unlimited Mode</button>"),Kc=$t('<div id="splash"><div><img width="80" alt="Signals Logo"/> <h1 class="svelte-1uha8ag">Signals</h1> <h2 id="game-tagline" class="svelte-1uha8ag"> </h2> <div class="difficulty-selector svelte-1uha8ag"><button><!> Easy</button> <button><!>Medium</button> <button><!>Hard</button> <!></div> <div class="flex-hor"><button id="game-back-button">Back</button> <button id="game-action-button">Play</button></div> <p id="splash-date" class="svelte-1uha8ag"> </p> <p id="splash-date" class="svelte-1uha8ag">Game by Noah Pinales</p></div></div> <!>',1);function lf(e,t){mi(t,!0);let n=Z("easy"),s=Z(!1),r=Z(null),a=Wt([!1,!1,!1]),o=["easy","medium","hard"],c=Zt(()=>a[0]&&a[1]&&a[2]),l=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date);function u(){i(r)!=null&&(E(s,!0),i(r).playGame())}function m(st){let ut=localStorage.getItem(st);return ut!=null?JSON.parse(ut):null}function f(){let st=m("signals-today-easy"),ut=m("signals-today-medium"),Tt=m("signals-today-hard");st!=null&&st.date==l&&(a[0]=st.over),ut!=null&&ut.date==l&&(a[1]=ut.over),Tt!=null&&Tt.date==l&&(a[2]=Tt.over),console.log(a),i(c)&&E(n,"infinite")}xn(()=>{f()});function d(){f();for(let st=0;st<a.length;st++)if(!a[st]){E(n,o[st],!0);break}E(s,!1)}var x=Kc(),A=je(x);let X;var b=O(A);Mt(b,1,"game-splash-inner svelte-1uha8ag",null,{},{"game-splash-ready":!0});var k=O(b),it=F(k,4),tt=O(it,!0);I(it);var B=F(it,2),et=O(B);let j;et.__click=()=>{E(n,"easy")};var L=O(et);{var v=st=>{var ut=qc();ot(st,ut)};Qt(L,st=>{a[0]&&st(v)})}Be(),I(et);var T=F(et,2);let S;T.__click=()=>{E(n,"medium")};var D=O(T);{var G=st=>{var ut=Vc();ot(st,ut)};Qt(D,st=>{a[1]&&st(G)})}Be(),I(T);var z=F(T,2);let ct;z.__click=()=>{E(n,"hard")};var N=O(z);{var Nt=st=>{var ut=Wc();ot(st,ut)};Qt(N,st=>{a[2]&&st(Nt)})}Be(),I(z);var Rt=F(z,2);{var St=st=>{var ut=Zc();let Tt;ut.__click=()=>{E(n,"infinite")},dt(()=>Tt=Mt(ut,1,"difficulty-option svelte-1uha8ag",null,Tt,{active:i(n)=="infinite"})),ot(st,ut)};Qt(Rt,st=>{i(c)&&st(St)})}I(B);var ce=F(B,2),ze=F(O(ce),2);ze.__click=u,I(ce);var fe=F(ce,2),ft=O(fe,!0);I(fe),Be(2),I(b),I(A);var Ft=F(A,2);Ws(Ft,()=>i(n),st=>{pe(Uc(st,{get difficulty(){return i(n)},anotherDifficulty:d}),ut=>E(r,ut,!0),()=>i(r))}),dt(st=>{X=Mt(A,1,"game-splash-wrapper svelte-1uha8ag",null,X,{"game-splash-hidden":i(s)}),$(k,"src",Js),Ie(tt,i(c)?"You've completed all the puzzles for today.":"Connect the signal by placing the blocks in order."),j=Mt(et,1,"difficulty-option svelte-1uha8ag",null,j,{active:i(n)=="easy"}),S=Mt(T,1,"difficulty-option svelte-1uha8ag",null,S,{active:i(n)=="medium"}),ct=Mt(z,1,"difficulty-option svelte-1uha8ag",null,ct,{active:i(n)=="hard"}),Ie(ft,st)},[()=>new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit",year:"numeric"}).format(new Date)]),ot(e,x),pi()}Ds(["click"]);export{lf as component};
